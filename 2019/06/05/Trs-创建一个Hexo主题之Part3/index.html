<!-- build time:Sun Sep 05 2021 14:32:52 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Focus on FE learning</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third%20party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third%20party/pace-theme-flash.css"><link rel="icon" href="/images/kour.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">Chor's blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">首页</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">分类</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">归档</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">标签</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">关于</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue" class="logo">Focus on FE learning</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">「译」创建一个Hexo主题-Part3 :评论、分析和小部件</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2019-06-05&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp2k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp8 mins&nbsp&nbsp&nbsp</span><div class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/hexo-theme/">hexo theme</a></div></div><div class="post-content"><blockquote><ul><li>原文地址：<a target="_blank" rel="noopener" href="http://www.codeblocq.com/2016/03/Create-an-Hexo-Theme-Part-3-Comments-Analytics-and-Widgets/">Create an Hexo Theme - Part 3: Comments, Analytics and Widgets</a></li><li>原文作者：Jonathan Klughertz</li><li>译者：Chor <span id="more"></span></li></ul></blockquote><p>在这个系列教程中，你将学习怎么从零开始制作一个 Hexo 主题。 在 <a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart1%2F">part1</a> 和 <a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart2%2F">part2</a> 中，我们已经创建了博客的所有页面。在这篇文章中，我们将给博客添加 <a target="_blank" rel="noopener" href="https://disqus.com/">Disqus 评论系统</a>，实现 <a target="_blank" rel="noopener" href="https://www.google.com.sg/analytics/">谷歌分析</a>以及完成侧边栏的小部件。</p><h2 id="其它文章的链接">其它文章的链接：</h2><ul><li><a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart1%2F">创建一个Hexo主题-Part1:首页</a></li><li><a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart2%2F">创建一个Hexo主题-Part2:其他页面</a></li><li><a href="https://chorer.github.io/2019/06/05/Trs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart3/">创建一个Hexo主题-Part3:评论、分析和小部件</a></li></ul><h2 id="disqus-评论系统">Disqus 评论系统</h2><p>我已经写了一篇关于<a target="_blank" rel="noopener" href="http://www.codeblocq.com/2015/12/Add-Disqus-comments-in-Hexo/">如何在 Hexo 中使用 Disqus 评论系统</a>的文章。请前往查看以了解更多信息，这里我只简单介绍一下怎么使用：</p><p>第一步是获取 Disqus UID 来测试评论功能，可以利用你的账号在这里获取： <img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/%E3%80%8C%E8%AF%91%E3%80%8D%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98-Part3%20%E8%AF%84%E8%AE%BA%E3%80%81%E5%88%86%E6%9E%90%E5%92%8C%E5%B0%8F%E9%83%A8%E4%BB%B6/add-disqus-comments-hexo-unique-name.jpg"> 接下来需要完成三个部分：主题文件的 disqus 配置、评论占位区、Disqus 脚本。事不宜迟，我们开始吧。</p><h3 id="主题配置">主题配置</h3><p>我们希望 Disqus UID 是可以配置的，因此给主题的 <code>config.yml</code> 文件添加一个条目：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"># Disqus Comments Shortname
disqus_shortname<span class="op">:</span> klugjoTest</code></pre></div><h3 id="评论占位区">评论占位区</h3><p>接下来我们给页面和文章详情页添加评论系统。和之前一样，创建一个局部视图文件 <code>layout/_partial/comments.ejs</code>，之后打开 <code>layout/_partial/article-full.ejs</code> 文件，把它插入到末尾。</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/comments.ejs */</span>
<span class="op">&lt;</span>div <span class="kw">class</span><span class="op">=</span><span class="st">&quot;blog-post&quot;</span><span class="op">&gt;</span>
   [...]
    <span class="op">&lt;!--</span> Comments <span class="op">--&gt;</span>
    <span class="op">&lt;%-</span> <span class="at">partial</span>(<span class="st">&#39;comments&#39;</span>) <span class="op">%&gt;</span>
<span class="op">&lt;</span><span class="ss">/div&gt;</span></code></pre></div><p>Disqus 需要 ID 为 <code>disqus_thread</code> 的 div 元素，因此我们这里复制官方文档提供的代码：</p><div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;disqus_thread&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;noscript&gt;</span>Please enable JavaScript to view the <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;//disqus.com/?ref_noscript&quot;</span><span class="kw">&gt;</span>comments powered by Disqus.<span class="kw">&lt;/a&gt;&lt;/noscript&gt;</span>
<span class="kw">&lt;/div&gt;</span></code></pre></div><p>将上面的代码合并到 <code>comments</code> 文件中：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/comments.ejs */</span>
<span class="op">&lt;%</span> <span class="cf">if</span>(<span class="va">page</span>.<span class="at">comments</span> <span class="op">&amp;&amp;</span> <span class="va">theme</span>.<span class="at">disqus_shortname</span>)<span class="op">&#123;</span> <span class="op">%&gt;</span>
    <span class="op">&lt;</span>div <span class="kw">class</span><span class="op">=</span><span class="st">&quot;blog-post-comments&quot;</span><span class="op">&gt;</span>
        <span class="op">&lt;</span>h3<span class="op">&gt;</span><span class="dt">Comments</span><span class="op">:&lt;</span><span class="ss">/h3&gt;</span>
<span class="ss">        &lt;div id=&quot;disqus_thread&quot;&gt;</span>
<span class="ss">            &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;//disqus.com/</span><span class="op">?</span>ref_noscript<span class="st">&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</span>
        <span class="op">&lt;</span><span class="ss">/div&gt;</span>
<span class="ss">    &lt;/div</span><span class="op">&gt;</span>
<span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></code></pre></div><p>首先我们检查是否开启了评论功能和设置了 disqus UID，之后将 Disqus 标记代码放到容器里。 以下是容器的 CSS 样式代码：</p><div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"><span class="co">/* source/css/blog.css */</span>
<span class="fl">.blog-post-comments</span> <span class="kw">&#123;</span>
    <span class="kw">margin-top:</span> <span class="dt">50px</span><span class="kw">;</span>
<span class="kw">&#125;</span></code></pre></div><h3 id="disqus-脚本">Disqus 脚本</h3><p>在测试之前，我们还需要添加 Disqus 的脚本，这是一切生效的关键。将它和其他脚本一起放在 <code>layout/_partial/after-footer.ejs</code> 的末尾</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/after-footer.ejs */</span>
<span class="op">&lt;!--</span> Disqus Comments <span class="op">--&gt;</span>
<span class="op">&lt;%</span> <span class="cf">if</span> (<span class="va">theme</span>.<span class="at">disqus_shortname</span>)<span class="op">&#123;</span> <span class="op">%&gt;</span>
    <span class="op">&lt;</span>script type<span class="op">=</span><span class="st">&quot;text/javascript&quot;</span><span class="op">&gt;</span>
        <span class="kw">var</span> disqus_shortname <span class="op">=</span> <span class="st">&#39;&lt;%= theme.disqus_shortname %&gt;&#39;</span><span class="op">;</span>
        (<span class="kw">function</span>()<span class="op">&#123;</span>
            <span class="kw">var</span> dsq <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;script&#39;</span>)<span class="op">;</span>
            <span class="va">dsq</span>.<span class="at">type</span> <span class="op">=</span> <span class="st">&#39;text/javascript&#39;</span><span class="op">;</span>
            <span class="va">dsq</span>.<span class="at">async</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>
            <span class="va">dsq</span>.<span class="at">src</span> <span class="op">=</span> <span class="st">&#39;//&#39;</span> <span class="op">+</span> disqus_shortname <span class="op">+</span> <span class="st">&#39;.disqus.com/&lt;% if (page.comments)&#123; %&gt;embed.js&lt;% &#125; else &#123; %&gt;count.js&lt;% &#125; %&gt;&#39;</span><span class="op">;</span>
            (<span class="va">document</span>.<span class="at">getElementsByTagName</span>(<span class="st">&#39;head&#39;</span>)[<span class="dv">0</span>] <span class="op">||</span> <span class="va">document</span>.<span class="at">getElementsByTagName</span>(<span class="st">&#39;body&#39;</span>)[<span class="dv">0</span>]).<span class="at">appendChild</span>(dsq)<span class="op">;</span>
        <span class="op">&#125;</span>())<span class="op">;</span>
    <span class="op">&lt;</span><span class="ss">/script&gt;</span>
<span class="ss">&lt;% &#125; %&gt;</span></code></pre></div><p>脚本来自于<a target="_blank" rel="noopener" href="https://help.disqus.com/customer/portal/articles/472097-universal-embed-code">官方文档</a>,并且我们在这里将 Disqus UID 参数化。 接着就可以测试一切是否正常工作了。</p><h2 id="谷歌分析">谷歌分析</h2><p>谷歌分析的实现和 Disqus 差不多，所以这里我只简单提一下。具体步骤可以看我的<a target="_blank" rel="noopener" href="http://www.codeblocq.com/2015/12/Add-Google-Analytics-to-your-hexo-blog/">另一篇博客</a>。</p><h3 id="在主题配置文件中设置-tracking-id">在主题配置文件中设置 tracking ID</h3><p>从你的账号中获取谷歌分析的 tracking ID，之后再配置文件中新增条目。</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"># Google Analytics Tracking ID
google_analytics<span class="op">:</span> UA<span class="op">-</span><span class="dv">83746351</span><span class="op">-</span><span class="dv">2</span></code></pre></div><h3 id="创建一个新的局部文件">创建一个新的局部文件</h3><p>创建一个新的局部视图文件 <code>layout/_partial/google-analytic.ejs</code></p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/google-analytic.ejs */</span>
<span class="op">&lt;%</span> <span class="cf">if</span> (<span class="va">theme</span>.<span class="at">google_analytics</span>)<span class="op">&#123;</span> <span class="op">%&gt;</span>
    <span class="op">&lt;</span>script<span class="op">&gt;</span>
        (<span class="kw">function</span>(i<span class="op">,</span>s<span class="op">,</span>o<span class="op">,</span>g<span class="op">,</span>r<span class="op">,</span>a<span class="op">,</span>m)<span class="op">&#123;</span>i[<span class="st">&#39;GoogleAnalyticsObject&#39;</span>]<span class="op">=</span>r<span class="op">;</span>i[r]<span class="op">=</span>i[r]<span class="op">||</span><span class="kw">function</span>()<span class="op">&#123;</span>
                    (i[r].<span class="at">q</span><span class="op">=</span>i[r].<span class="at">q</span><span class="op">||</span>[]).<span class="at">push</span>(arguments)<span class="op">&#125;,</span>i[r].<span class="at">l</span><span class="op">=</span><span class="dv">1</span><span class="op">*</span><span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span>a<span class="op">=</span><span class="va">s</span>.<span class="at">createElement</span>(o)<span class="op">,</span>
                m<span class="op">=</span><span class="va">s</span>.<span class="at">getElementsByTagName</span>(o)[<span class="dv">0</span>]<span class="op">;</span><span class="va">a</span>.<span class="at">async</span><span class="op">=</span><span class="dv">1</span><span class="op">;</span><span class="va">a</span>.<span class="at">src</span><span class="op">=</span>g<span class="op">;</span><span class="va">m</span>.<span class="va">parentNode</span>.<span class="at">insertBefore</span>(a<span class="op">,</span>m)
        <span class="op">&#125;</span>)(window<span class="op">,</span>document<span class="op">,</span><span class="st">&#39;script&#39;</span><span class="op">,</span><span class="st">&#39;//www.google-analytics.com/analytics.js&#39;</span><span class="op">,</span><span class="st">&#39;ga&#39;</span>)<span class="op">;</span>
        <span class="at">ga</span>(<span class="st">&#39;create&#39;</span><span class="op">,</span> <span class="st">&#39;&lt;%= theme.google_analytics %&gt;&#39;</span><span class="op">,</span> <span class="st">&#39;auto&#39;</span>)<span class="op">;</span>
        <span class="at">ga</span>(<span class="st">&#39;send&#39;</span><span class="op">,</span> <span class="st">&#39;pageview&#39;</span>)<span class="op">;</span>
    <span class="op">&lt;</span><span class="ss">/script&gt;</span>
<span class="ss">&lt;% &#125; %&gt;</span></code></pre></div><p>这是从<a target="_blank" rel="noopener" href="https://support.google.com/analytics/answer/1008080?hl=en">谷歌分析跟踪代码</a>复制粘贴过来的，其中包括一个参数化的 ID。</p><h3 id="合并到局部文件中">合并到局部文件中</h3><p>我们希望可以在任何页面中获取到跟踪代码，而页面上又没有合适的位置来存放，因此我们选择把它添加到 <code>&lt;head&gt;&lt;/head&gt;</code> 的末尾：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/head.ejs */</span>
<span class="op">&lt;</span>head<span class="op">&gt;</span>
    <span class="op">&lt;</span>meta charset<span class="op">=</span><span class="st">&quot;utf-8&quot;</span><span class="op">&gt;</span>
    <span class="op">&lt;</span>meta http<span class="op">-</span>equiv<span class="op">=</span><span class="st">&quot;X-UA-Compatible&quot;</span> content<span class="op">=</span><span class="st">&quot;IE=edge&quot;</span><span class="op">&gt;</span>
    <span class="op">&lt;</span>meta name<span class="op">=</span><span class="st">&quot;viewport&quot;</span> content<span class="op">=</span><span class="st">&quot;width=device-width, initial-scale=1&quot;</span><span class="op">&gt;</span>
    [...]
    <span class="op">&lt;!--</span> Google Analytics <span class="op">--&gt;</span>
    <span class="op">&lt;%-</span> <span class="at">partial</span>(<span class="st">&#39;google-analytics&#39;</span>) <span class="op">%&gt;</span>
<span class="op">&lt;</span><span class="ss">/head&gt;</span></code></pre></div><p>大功告成！</p><h2 id="小部件">小部件</h2><p>此时，<code>sidebar.ejs</code> 文件中的小部件还只是一堆采用硬编码的静态 HTML。我们来修复这个问题。</p><h3 id="配置">配置</h3><p>先从配置开始吧。 我们准备创建两个小部件，一个是“关于”，一个是“标签”。相关配置如果以 JavaScript 对象的形式来书写，大概是下面这样：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="op">&#123;</span>
    <span class="dt">widgets</span><span class="op">:</span> <span class="op">&#123;</span>
        <span class="dt">about</span><span class="op">:</span> <span class="st">&quot;Here goes the about text&quot;</span><span class="op">,</span>
        <span class="dt">tags</span><span class="op">:</span> <span class="kw">true</span> <span class="co">// Or any additional configuration the widget needs</span>
    <span class="op">&#125;</span>
<span class="op">&#125;</span></code></pre></div><p>这是它在我们的主题配置文件中转换成 YML 的形式：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"># Widgets List
widgets<span class="op">:</span>
  about<span class="op">:</span> This blog is based off the official bootstrap blog <span class="va">template</span>. <span class="at">Checkout</span> <span class="at">the</span> <span class="at">corresponding</span> <span class="at">tutorial</span> <span class="at">at</span> <span class="op">&lt;</span>a href<span class="op">=</span><span class="st">&quot;http://www.codeblocq.com&quot;</span><span class="op">&gt;</span>http<span class="op">:</span><span class="co">//www.codeblocq.com&lt;/a</span>
  tags<span class="op">:</span> <span class="kw">true</span></code></pre></div><h3 id="侧边栏代码">侧边栏代码</h3><p>作为所有小部件的占位区，我们的侧边栏需要遍历配置文件中的所有小部件并将其渲染出来： 侧边栏的 EJS 模板如下：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/sidebar.ejs */</span>
<span class="op">&lt;%</span> <span class="cf">for</span>(<span class="kw">var</span> widget <span class="kw">in</span> <span class="va">theme</span>.<span class="at">widgets</span>)<span class="op">&#123;</span> <span class="op">%&gt;</span>
    <span class="op">&lt;%-</span> <span class="at">partial</span>(<span class="st">&#39;widget/&#39;</span> <span class="op">+</span> widget) <span class="op">%&gt;</span>
<span class="op">&lt;%</span> <span class="op">&#125;;</span> <span class="op">%&gt;</span></code></pre></div><h3 id="第一个小部件关于">第一个小部件：“关于”</h3><p>新建一个局部文件 <code>layout/_partial/widget/about.ejs</code>，之后在里面创建第一个小部件。 代码是从原先的 bootstrap 模板中复制过来的，文本则来自于配置文件。</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/widget/about.ejs */</span>
<span class="op">&lt;%</span> <span class="cf">if</span>(<span class="va">theme</span>.<span class="va">widgets</span>.<span class="at">about</span>)<span class="op">&#123;</span> <span class="op">%&gt;</span>
    <span class="op">&lt;</span>div <span class="kw">class</span><span class="op">=</span><span class="st">&quot;sidebar-module sidebar-module-inset&quot;</span><span class="op">&gt;</span>
        <span class="op">&lt;</span>h4<span class="op">&gt;</span>About<span class="op">&lt;</span><span class="ss">/h4&gt;</span>
<span class="ss">        &lt;p&gt;&lt;%- theme.widgets.about %&gt;&lt;/p</span><span class="op">&gt;</span>
    <span class="op">&lt;</span><span class="ss">/div&gt;</span>
<span class="ss">&lt;% &#125; %&gt;</span></code></pre></div><h3 id="第二个小部件标签">第二个小部件：“标签”</h3><p>我们给这个部件做一些略微高级的改动。设置一个段落用于存放博客中用过的所有标签。它们互相之间用空格隔开，并且字体大小与标签使用次数成比例。 这是 <code>layout/_partial/widget/tags.ejs</code> 的代码：</p><div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="co">/* layout/_partial/widget/tags.ejs */</span>
<span class="op">&lt;%</span> <span class="cf">if</span> (<span class="va">theme</span>.<span class="va">widgets</span>.<span class="at">tags</span> <span class="op">&amp;&amp;</span> <span class="va">site</span>.<span class="va">tags</span>.<span class="at">length</span>)<span class="op">&#123;</span> <span class="op">%&gt;</span>
    <span class="op">&lt;</span>div <span class="kw">class</span><span class="op">=</span><span class="st">&quot;sidebar-module&quot;</span><span class="op">&gt;</span>
        <span class="op">&lt;</span>h4<span class="op">&gt;</span>Tags<span class="op">&lt;</span><span class="ss">/h4&gt;</span>
<span class="ss">        &lt;p&gt;</span>
<span class="ss">            &lt;% site.tags.sort</span><span class="sc">(</span><span class="ss">&#39;name&#39;</span><span class="sc">)</span><span class="ss">.each</span><span class="sc">(</span><span class="ss">function</span><span class="sc">(</span><span class="ss">item</span><span class="sc">)</span><span class="ss">&#123; %&gt;</span>
<span class="ss">                &lt;a href=&quot;&lt;%- config.root %&gt;&lt;%- item.path %&gt;&quot; style=&quot;font-size: &lt;%- Math.min</span><span class="sc">(</span><span class="ss">item.posts.length </span><span class="sc">*</span><span class="ss"> 2 </span><span class="sc">+</span><span class="ss"> 13, 30</span><span class="sc">)</span><span class="ss"> %&gt;px&quot;&gt;&lt;%= item.name %&gt;&lt;/a</span><span class="op">&gt;</span>
            <span class="op">&lt;%</span> <span class="op">&#125;</span>)<span class="op">;</span> <span class="op">%&gt;</span>
        <span class="op">&lt;</span><span class="ss">/p&gt;</span>
<span class="ss">    &lt;/div</span><span class="op">&gt;</span>
<span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></code></pre></div><ul><li><code>site.tags</code> 让我们可以获取所有标签</li><li><code>site.tags.sort('name)</code> 按照字母表的顺序对所有标签进行排序</li><li><code>item.path</code> 对应标签归档页的相对 URL</li><li><code>item.posts.length</code> 表示标签的使用次数</li><li><code>item.name</code> 是标签的名字</li></ul><p>我这里选择 <code>13+（标签使用次数 *2）px</code> 作为字体大小的计算方式，并且最大不超过 <code>30px</code>。当然，你可以根据自己的喜好来。</p><h2 id="最后">最后</h2><p>教程到这里就结束了，我希望你从中可以学到不少有趣的东西。 如果你想进一步打磨主题，可以考虑下面这些事情： * 通过参数化 <code>&lt;title&gt;</code> 和所有 <a target="_blank" rel="noopener" href="http://ogp.me/">Open Graph</a> 属性完善 <code>head</code> 部分 * 添加更多小部件，例如<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-theme-light/blob/master/layout/_widget/search.ejs">搜索小部件</a> 或者是一个 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-theme-light/blob/master/layout/_widget/recent_posts.ejs">近期文章小部件</a> * 将你的主题提交到 <a target="_blank" rel="noopener" href="https://hexo.io/themes/">Hexo官方主题站点</a> * 查看我的其他 <a target="_blank" rel="noopener" href="http://www.codeblocq.com/tags/">Hexo 教程</a>来改进你的博客 * 查看<a target="_blank" rel="noopener" href="https://github.com/cgmartin/hexo-theme-bootstrap-blog">hexo-theme-bootstrap-blog</a>,这个主题同样是基于 bootstrap 模板实现的 * 从零开始打造你自己的主题</p><p>感谢阅读！欢迎在评论区留下你的评论、指正和意见。</p></div><div class="post-nav"><div class="post-nav-prev"><a href="/2019/06/06/F-CSS%20%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%9Aflex%20%E5%B8%83%E5%B1%80/" rel="prev" title="CSS 基础系列：flex 布局"><i class="fa fa-angle-double-left"></i>&nbspCSS 基础系列：flex 布局</a></div><div class="post-nav-next"><a href="/2019/05/31/F-CSS%20%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%9A%E5%B8%B8%E8%A7%81%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/" rel="next" title="CSS 基础系列：常见布局方式">CSS 基础系列：常见布局方式&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E6%96%87%E7%AB%A0%E7%9A%84%E9%93%BE%E6%8E%A5"><span class="toc-text">其它文章的链接：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#disqus-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F"><span class="toc-text">Disqus 评论系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE"><span class="toc-text">主题配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E5%8D%A0%E4%BD%8D%E5%8C%BA"><span class="toc-text">评论占位区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#disqus-%E8%84%9A%E6%9C%AC"><span class="toc-text">Disqus 脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%B7%E6%AD%8C%E5%88%86%E6%9E%90"><span class="toc-text">谷歌分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AE%BE%E7%BD%AE-tracking-id"><span class="toc-text">在主题配置文件中设置 tracking ID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%B1%80%E9%83%A8%E6%96%87%E4%BB%B6"><span class="toc-text">创建一个新的局部文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%B0%E5%B1%80%E9%83%A8%E6%96%87%E4%BB%B6%E4%B8%AD"><span class="toc-text">合并到局部文件中</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E9%83%A8%E4%BB%B6"><span class="toc-text">小部件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E4%BB%A3%E7%A0%81"><span class="toc-text">侧边栏代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%83%A8%E4%BB%B6%E5%85%B3%E4%BA%8E"><span class="toc-text">第一个小部件：“关于”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%B0%8F%E9%83%A8%E4%BB%B6%E6%A0%87%E7%AD%BE"><span class="toc-text">第二个小部件：“标签”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-text">最后</span></a></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"retro",pageSize:10,visitor:!0})</script></section></main><script>var user=[1,2,3,4]</script><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - <span>2021</span> My Blog</p><p class="a">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script></body></html><!-- rebuild by neat -->