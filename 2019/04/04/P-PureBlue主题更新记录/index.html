<!-- build time:Fri Sep 20 2019 13:56:42 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Chor&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third party/pace-theme-flash.css"><link rel="icon" href="/images/me.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><header class="header"><div class="header_top"><span class="theme"><i class="fa fa-bars"></i> <a href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">HOME</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">CATEGORIES</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">ARCHIVES</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">TAGS</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">ABOUT</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a href="/" class="logo">Chor&#39;s Blog</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">PureBlue 主题更新记录</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2019-04-04&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp1.8k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp6 mins&nbsp&nbsp&nbsp</span><div class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/PureBlue/">PureBlue</a> <a href="/tags/Hexo/">Hexo</a></div></div><div class="post-content"><style>strong{font-size:18px}</style><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.6.3：</strong></p><p><i class="fa fa-wrench"></i> 修复文章目录过长覆盖 footer 的问题<br><i class="fa fa-wrench"></i> 本来想集成 Alogolia 搜索，无奈问题一个接着一个，只好放弃</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.5.29：</strong></p><p><i class="fa fa-wrench"></i> 完成部分移动端适配工作<br>是的，终于填了一点坑了。用的是媒体查询，虽说没有适配全部尺寸的手机，但是大部分已经可以正常显示了，第一次看到博客在手机上正常显示还是很开心的哈哈哈。总的来说最近更新比较频繁，两天三头就改一些地方，是时候 release 一下了。</p><a id="more"></a><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.5.27：</strong></p><p><i class="fa fa-wrench"></i> 修改导航栏布局<br><i class="fa fa-wrench"></i> 修复代码块与顶部条宽度不一致的 bug。<br>本来代码块和顶部条在同一个父元素里的话是很好控制宽度一致的，无奈插件是直接暴露代码块在外面。而我又不想用jq来给它们嵌套一个父元素，所以最后采用了计算代码块宽度再赋值给顶部条的方法。</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.5.21：</strong></p><p><i class="fa fa-wrench"></i> 改进代码块样式，增加复制功能。<br>代码高亮还是用现成的插件实现的，但是在样式上借鉴了 <a href="https://carbon.now.sh" target="_blank" rel="noopener">Carbon</a>，最主要的是在右上角添加了复制代码功能（有 ZeroClipboard 插件可以用，但是不知怎地用不了，所以自己写了一个。怎么实现的就不说了，因为代码比较丑）。现在代码高亮效果是这样的：</p><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.5.19：</strong></p><p><i class="fa fa-wrench"></i> 修改了配色基调<br><i class="fa fa-wrench"></i> 添加站内搜索，现在可以搜索文章了</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.5.14：</strong></p><p><i class="fa fa-wrench"></i> 一直觉得banner光秃秃的，所以换上了随机的背景图<br><i class="fa fa-wrench"></i> 利用媒体查询对手机端的样式做了部分调整（虽然还是没有达到想要的效果）。感觉是个大工程，还是以后再来弄吧。</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.5.10：</strong></p><p><i class="fa fa-wrench"></i> 一点小改动。翻译文章时突然发现一件事，有的文章标题下是有类似subtitle的东西的，但不是hexo的内置变量，所以自己定义了一个（说实话之前没考虑到这个问题）。</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.4.2：</strong></p><p><i class="fa fa-wrench"></i> 优化了部分代码<br><i class="fa fa-wrench"></i> (总算)引入分享插件，只需要在主题的<code>config.yml</code>文件配置即可。之前以为没法在<code>script</code>标签里写ejs，所以采用了在js里拼接字符串的方法，想想真是又笨又奇葩。</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.4.1：</strong></p><p>几个优化阅读体验的小变动<br><i class="fa fa-wrench"></i> 引入了font-awesome库，增加了一些图标<br><i class="fa fa-wrench"></i> 现在TOC目录中的标题会随着屏幕滚动而对应高亮。为了醒目，<del>暂时采用了我比较喜欢的荧光黄</del>采用红色<br><i class="fa fa-wrench"></i> 取消纯黑字体，现在阅读文章不会那么晃眼了<br><i class="fa fa-wrench"></i> 修复代码块背景显示不正常的问题<br><i class="fa fa-wrench"></i> 增加文章字数统计和阅读时长统计，可配置</p><p><i class="fa fa-calendar-plus-o"></i> <strong>2019.3.31:</strong></p><p>发布 Version 1.0<br><img src="https://raw.githubusercontent.com/Chorer/MyBlog-Pic/master/Myblogs/PureBlue主题更新记录-1.png" alt=""></p><p>最近确实还是挺忙的。虽说主题做出来了，但是一些大大小小的毛病或者 bug 总是让我心里不太舒服，所以花了一些功夫进行了修复，并终于发布了第一个版本。现在看起来已经好很多了（也已经与初版完全不同了）。至于响应式布局，目前没打算做，因为我还是习惯用 PC 端浏览。</p><p><i class="fa fa-wrench"></i> 整体布局：<br>比较直观的感受应该就是布局上的调整。为了让整体更加趋向扁平化，我去除了初版中所有圆润的元素，尤其是那个巨丑的导航栏。还有一个就是稍微美化了一下滑动条，现在和主题更加搭配了。</p><p><i class="fa fa-wrench"></i> 配色：<br>虽然主题叫做PureBlue，但并不是所有人都能接受默认的颜色，所以在以蓝色为主配色的前提下，我提供了其他的几种方案可供选择，只要修改配置文件即可。这个也算是给我的一个tip：为了提高主题的可配置性，应该避免在一些地方采用硬编码，而是代之以变量（stylus本身是支持书写变量的）。</p><p><i class="fa fa-wrench"></i> 阅读体验优化：<br>之前比较尴尬的两个问题，一个是图片无法放大查看（= =无法放大的图片要你何用），一个是没有文章目录（阅读长文非常痛苦）。图片问题我是用fancybox插件解决的，同时支持放大、下载和分享。这里有一点比较关键:因为md文件引用的图片默认是放在<code>&lt;p&gt;&lt;/p&gt;</code>中的，而插件针对的图片必须有<code>&lt;a&gt;&lt;/a&gt;</code>嵌套，所以需要用js给所有的img嵌套上<code>&lt;a&gt;&lt;/a&gt;</code>；至于文章目录，可以用TOC函数生成，之后再编写样式就行。当然，目录是类似侧边栏的存在，所以必须用js做一些判断，之后进行适当的定位。</p><p><i class="fa fa-wrench"></i> 浏览体验优化：<br>首先是修复了分类页无法正常进入的问题（之前的分类点击之后会走archive页面的布局，所以我暂时给了个空链接）；然后是重写了分页器，说到这个，之前的分页器可以说是丑到无以复加，而且非常不人性化，只提供上一页和下一页的选择简直是不像话有木有！好在这个问题解决了，而且也简化了一些不必要的代码；再者一个是导航栏，导航栏条目可以根据当前所在页面的类型对应高亮。</p><p><i class="fa fa-wrench"></i> 第三方插件支持：<br>目前引入了valine评论插件，用起来还是很舒服的。后面看情况可能会增加对gittalk的支持；分享插件，我个人使用的是Addthis，之所以只有个人使用= =，因为这个插件必须要到它的官网去配置，而我要的效果是用户可以通过主题文件进行配置。<del>所以虽然好用，但不会考虑作为主题的分享插件</del> 增加了对Addthis的支持，现在用户可以通过配置pubid使用这个插件了。<del>说到插件，以后也许会增加Algolia站内搜索，现在看搜索功能还是比较鸡肋的，毕竟标签和分类其实已经足够发挥索引功能了</del>增加了本地搜索，用起来感觉还蛮不错。</p><p><i class="fa fa-wrench"></i> 其他小改动：<br>显示标签数、分类数和文章数，至于文章阅读时长和字数的统计可以以后再说；还有就是在<code>after-footer.ejs</code>中统一引用所有的js文件，没有之前那么乱糟糟的了；标签云的标签，之前鼠标移入的时候会“鬼畜”，这个问题也得到了修复。</p><p>总而言之改动还是挺大的，不过随着越来越多第三方插件的使用，以后实现去jq化也可能比较麻烦。</p></div><div class="post-nav"><div class="post-nav-prev"><a href="/2019/04/08/F-深入理解执行上下文和执行栈/" rel="prev" title="深入理解执行上下文和执行栈"><i class="fa fa-angle-double-left"></i>&nbsp深入理解执行上下文和执行栈</a></div><div class="post-nav-next"><a href="/2019/03/31/F-深入理解原型和继承/" rel="next" title="深入理解原型和继承">深入理解原型和继承&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2019 My Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/search.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/tororo.model.json"},display:{position:"left",width:150,height:300,vOffset:-120,hOffset:-5},mobile:{show:!1},react:{opacityDefault:1e3,opacityOnHover:1e3},log:!1})</script></body></html><!-- rebuild by neat -->