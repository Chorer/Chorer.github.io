<!-- build time:Thu Mar 26 2020 14:04:22 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Focus on FE learning</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third%20party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third%20party/pace-theme-flash.css"><link rel="icon" href="/images/kour.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script><script src="/js/prism-line-numbers.min.js"></script><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">Chor's blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">首页</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">分类</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">归档</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">标签</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">关于</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a href="https://github.com/Chorer/hexo-theme-PureBlue" target="_blank" rel="noopener" class="logo">Focus on FE learning</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">Chrome 调试技巧简记</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2020-02-14&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp1.3k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp4 mins&nbsp&nbsp&nbsp</span><div class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/Chrome/">Chrome</a> <a href="/tags/debugger/">debugger</a></div></div><div class="post-content"><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-0.webp" alt=""></p><a id="more"></a><blockquote><p>阅读掘金小册《你不知道的 chrome 调试技巧》后做的笔记</p></blockquote><h2 id="1-快捷键："><a href="#1-快捷键：" class="headerlink" title="1. 快捷键："></a>1. 快捷键：</h2><ul><li>切换面板位置： <code>ctrl + shift + D</code></li><li>切换面板类型： <code>ctrl + [</code> 向左， <code>ctrl + ]</code> 向右</li><li>切换手机/PC模式： <code>ctrl + shift + M</code></li><li>切换审查元素模式/浏览器窗口： <code>ctrl + shift + C</code></li><li>打开命令面板：<code>ctrl + shift + P</code></li></ul><h2 id="2-截图："><a href="#2-截图：" class="headerlink" title="2. 截图："></a>2. 截图：</h2><p><code>ctrl + shift + P</code> 打开命令面板，搜索 screen 可进行各类截图，包括节点截图、区域截图和全屏截图</p><h2 id="3-调试："><a href="#3-调试：" class="headerlink" title="3. 调试："></a>3. 调试：</h2><h3 id="3-1-复制和存储"><a href="#3-1-复制和存储" class="headerlink" title="3.1 复制和存储"></a>3.1 复制和存储</h3><ul><li><code>copy()</code>：拷贝数据</li><li><code>store as global variable</code>：拷贝一份独立的数据并作为全局变量</li><li><code>save as...</code>：保存报错的堆栈信息作为 log 文件，而不是单纯的截图</li></ul><h3 id="3-2-代码块保存和复用"><a href="#3-2-代码块保存和复用" class="headerlink" title="3.2 代码块保存和复用"></a>3.2 代码块保存和复用</h3><p>如果经常需要在控制台中调用某段代码块，可以考虑把它保存起来以便复用。<code>source --&gt; snippets --&gt; + New snippet</code> 新建代码块并保存。这不会随着缓存清除而消失。</p><h3 id="3-4-节点引用"><a href="#3-4-节点引用" class="headerlink" title="3.4 节点引用"></a>3.4 节点引用</h3><ul><li><code>$0</code> 是对当前选中节点的引用，<code>$1</code> 是相对于 <code>$0</code> 的上一个被选中节点，以此类推，<code>$2</code> 到 <code>$4</code> 同理。</li><li><code>$(...)</code>：这里注意和 jquery 中的 <code>$(...)</code> 是不一样的。例如，jq 中的 <code>$(&#39;div&#39;)</code> 可以选中所有 div 元素，而控制台中的 <code>$(&#39;div&#39;)</code> 则类似于 <code>document.querySelector(&#39;div&#39;)</code>，只能匹配第一个 div。</li><li><code>$$(...)</code>：类似于 <code>document.querySelectorAll(&#39;div&#39;)</code>，可以匹配所有的 div。区别在于，它可以确切返回一个数组，而不是 <code>Node list</code>。</li><li><code>$_</code>：要查看上一次执行的结果，可以通过键盘上下箭头重新执行一遍代码，也可以直接 <code>$_</code> 进行打印。它是对上一次执行结果的引用。</li></ul><h3 id="3-5-监听元素状态改变："><a href="#3-5-监听元素状态改变：" class="headerlink" title="3.5 监听元素状态改变："></a>3.5 <strong>监听元素状态改变</strong>：</h3><p>右键目标元素，选择 <code>break on</code> 的触发条件：</p><ul><li><code>subtree modifications</code> ：当前节点的子节点被 <strong>移除</strong> 或者 <strong>添加</strong> 时触发断点</li><li><code>attribute modifications</code> ：当前节点的任意属性被 <strong>添加</strong>，<strong>移除</strong> 或者 <strong>修改</strong> 时触发断点</li><li><code>node removal</code> ：当前节点被 <strong>移除</strong> 时触发断点</li></ul><h3 id="3-6-console-log-的坑"><a href="#3-6-console-log-的坑" class="headerlink" title="3.6 console.log 的坑"></a>3.6 <code>console.log</code> 的坑</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">'Jack'</span><span class="token punctuation">,</span>
    job<span class="token punctuation">:</span><span class="token string">'worker'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'John'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在使用 <code>console.log()</code> 打印对象的时候，需要注意它打印的是那时的快照（snapshot），所以在未展开对象的时候，打印结果符合我们的预期：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-2.png" alt=""></p><p>但是在展开对象后，浏览器会重新读取引用的对象本身的属性，故此时两次打印的属性都同步为最近更新的属性值：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-3.png" alt=""></p><p>注意这和异步同步无关。</p><h3 id="3-7-更好的打印"><a href="#3-7-更好的打印" class="headerlink" title="3.7 更好的打印"></a>3.7 更好的打印</h3><p>带条件判断的 <code>console.log()</code> 可以用 <code>console.assert()</code> 来代替，它会在第一个参数为假值时，打印第二个参数的内容：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-10.png" alt=""></p><p>将变量名放在花括号中整体打印出来，变量与变量值的对应关系会更加清晰：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-11.png" alt=""></p><p><code>console.table()</code> 可以以表格形式打印数组：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-12.png" alt=""></p><p>也可以以表格形式打印对象。这里以类数组对象为例：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-13.png" alt=""></p><p>当然这两者还可以结合起来，将一组变量直观地打印出来。</p><p><code>console.dir</code> 可以将 dom 元素以 js 对象而不是 HTML 的形式打印出来：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-14.png" alt=""></p><p>还可以开启 <code>log</code> 的时间戳：</p><p><code>F12 --&gt; ctrl+shift+P --&gt; show timestamps</code></p><h3 id="3-8-结构和样式调节"><a href="#3-8-结构和样式调节" class="headerlink" title="3.8 结构和样式调节"></a>3.8 结构和样式调节</h3><ul><li><p>在元素面板中可以通过拖动、<code>ctrl+x</code> 等直接操作 HTML 结构</p></li><li><p>在样式面板中可以通过点击阴影方块便捷地调节阴影效果</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-15.png" alt=""></p></li></ul><h3 id="3-9-源文件修改同步到本地文件（持久化保存）"><a href="#3-9-源文件修改同步到本地文件（持久化保存）" class="headerlink" title="3.9 源文件修改同步到本地文件（持久化保存）"></a>3.9 <strong>源文件修改同步到本地文件（持久化保存）</strong></h3><p><code>Sources</code> —&gt; <code>Filesystems</code> —&gt; <code>Add folder to workspace</code></p><p>点击样式面板中的 <code>+</code> 可以添加新的样式规则，新增的样式规则默认放在一个单独的 CSS 文件中，可以长按 <code>+</code> 决定它的书写位置。</p><h2 id="4-移动端真机调试"><a href="#4-移动端真机调试" class="headerlink" title="4. 移动端真机调试"></a>4. 移动端真机调试</h2><p>有时候，Chrome 模拟手机调试的结果不一定准确，这时候就需要用到真机调试了。真机调试允许开发者通过 Chrome Devtools 直接调试手机上的页面，我们需要的只是在 PC 和手机上安装 Chrome 浏览器，并准备一根数据线。</p><p>首先用数据线将 PC 和手机连接起来，并打开手机的<strong>开发人员选项</strong>，接着打开 PC Chrome 的 <a href="chrome://inspect/#devices">chrome://inspect/#devices</a> 页面：</p><p><a href="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-4.png" target="_blank" rel="noopener"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-4.png" alt=""></a></p><p>将手机维持在浏览器页面，试着打开百度：</p><p><a href="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-5.png" target="_blank" rel="noopener"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-5.png" alt=""></a></p><p>点击 inspect 会打开一个新窗口，在这里可以进行调试：</p><p><a href="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-6.png" target="_blank" rel="noopener"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-6.png" alt=""></a></p><p>所有的操作会同时同步在 PC 端和手机端的页面上。</p><p>还有一种情况是调试本地文件，这时候需要使用 Port forwarding 端口转发功能。端口转发的前提是我们需要在本地开启一个服务器，对于平常写的 demo，用 live sever 插件或者 Node.js 开启一个服务器就好了。因为 Hexo 博客本身提供了本地服务器，我这里拿它示例。</p><p>首先通过命令行的 <code>hexo s</code> 开启本地服务器，然后配置一下端口转发的参数（我这里是 <code>4000</code> 端口）。记得勾选开启：</p><p><a href="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-7.png" target="_blank" rel="noopener"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-7.png" alt=""></a></p><p>出现了绿点，说明配置没问题：</p><p><a href="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-8.png" target="_blank" rel="noopener"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-8.png" alt=""></a></p><p>在地址栏输入端口地址，然后点击 inspect 看一下：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0/Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E7%AE%80%E8%AE%B0-9.png" alt=""></p></div><div class="post-nav"><div class="post-nav-prev"><a href="/2020/03/06/T-ES6%E7%9A%84Set%E4%B8%8EMap/" rel="prev" title="ES6的Set与Map"><i class="fa fa-angle-double-left"></i>&nbspES6的Set与Map</a></div><div class="post-nav-next"><a href="/2020/01/18/T-%E7%A8%8D%E7%BA%B5%E5%8D%B3%E9%80%9D%E7%9A%84%E5%A4%A7%E4%BA%8C/" rel="next" title="稍纵即逝的大二">稍纵即逝的大二&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-快捷键："><span class="toc-text">1. 快捷键：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-截图："><span class="toc-text">2. 截图：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-调试："><span class="toc-text">3. 调试：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-复制和存储"><span class="toc-text">3.1 复制和存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-代码块保存和复用"><span class="toc-text">3.2 代码块保存和复用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-节点引用"><span class="toc-text">3.4 节点引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-监听元素状态改变："><span class="toc-text">3.5 监听元素状态改变：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-console-log-的坑"><span class="toc-text">3.6 console.log 的坑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-更好的打印"><span class="toc-text">3.7 更好的打印</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-结构和样式调节"><span class="toc-text">3.8 结构和样式调节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-源文件修改同步到本地文件（持久化保存）"><span class="toc-text">3.9 源文件修改同步到本地文件（持久化保存）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-移动端真机调试"><span class="toc-text">4. 移动端真机调试</span></a></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2019 My Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue" target="_blank" rel="noopener">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script></body></html><!-- rebuild by neat -->