<!-- build time:Sun Sep 05 2021 18:44:29 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Focus on FE learning</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third%20party/prism.css"><link rel="stylesheet" href="/css/third%20party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third%20party/pace-theme-flash.css"><link rel="icon" href="/images/kour.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><meta name="generator" content="Hexo 5.4.0"></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">Chor's blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">首页</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">分类</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">归档</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">标签</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">关于</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue" class="logo">Focus on FE learning</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">Tailwind CSS （可能）是名过其实的</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2021-02-17&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp2.8k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp9 mins&nbsp&nbsp&nbsp</span><div class="post-tags"></div></div><div class="post-content"><div class="figure"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Tailwind%20CSS/0.jpg"></div><span id="more"></span><p>Tailwind CSS 是一个工具集 CSS 框架，网上很多文章已对其有详尽的介绍。本文不是官方文档的复述，也不是系列优点的罗列，作者 Gerard 会从另一个角度出发，在尽力保持客观的前提下，立足于实际开发的场景，指出 Tailwind CSS 存在的一些问题。事实上，除了文中提及的，Tailwind CSS 还存在着不少缺点，比如对高度定制化的支持程度不足、记忆大量预定义类名带来的心智负担等。<strong>友情提醒，你不一定会赞同这篇文章的看法</strong>，因为我们的看法会受到自身认知和使用体验的影响，但更重要的是可能是作者对新兴技术的态度，用他的原话说，就是：“When everyone is shouting that it’s awesome, it’s usually a good moment to sit down and have a good look at it”</p><p>下面正文开始。</p><blockquote><ul><li>原文地址：<a target="_blank" rel="noopener" href="https://medium.com/better-programming/tailwind-css-is-probably-overhyped-5272e5d58d4e">Tailwind CSS Is (Probably) Overhyped</a></li><li>原文作者：<a target="_blank" rel="noopener" href="https://gerardvanderput.medium.com/?source=post_page-----5272e5d58d4e--------------------------------">Gerard van der Put</a></li><li>译者：Chor</li></ul></blockquote><h3 id="引言">引言</h3><p>在过去的两年间，<a target="_blank" rel="noopener" href="https://tailwindcss.com/">Tailwind CSS</a> <a target="_blank" rel="noopener" href="https://www.npmtrends.com/tailwindcss">广受青睐</a>（从每周 30K 的下载量到如今的 600K）。毫无疑问，这个流行的实用优先 CSS 框架具备诸多优点。很可能你对它的惊艳和强大早有耳闻，因为很多开发者正是这么想的。</p><p>但关于这个框架，我们还有很多要说的。</p><h3 id="什么是-tailwind-css">什么是 Tailwind CSS？</h3><p>如果你从来没见过 Tailwind 的实际应用，可以看这个：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-gray-100 rounded-xl p-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这里的类名就反映了 Tailwind 的定义：一个包含多个预定义类（所谓的工具类）的集合。你并不需要编写基础的 CSS 样式规则，只需要直接在 HTML 中应用已经事先定义好的类名。</p><p>这样的类名还有很多。下面这个列表展示了部分类别和对应的例子：</p><ul><li><strong>背景</strong> (<code>bg-gray-200</code>, <code>bg-gradient-to-bl</code>)</li><li><strong>弹性布局</strong> (<code>flex-1</code>, <code>flex-row</code>)</li><li><strong>网格布局</strong> (<code>grid-cols-1</code>, <code>col-span-4</code>)</li><li><strong>内边距</strong> (<code>p-0</code>, <code>p-1</code>)</li><li><strong>尺寸</strong> (<code>w-1</code>, <code>h-1</code>)</li></ul><p>之前有人将这个预定义类的集合比作可以在代码中使用的“乐高积木”。当然，它与传统的 CSS 有很多重复之处，但却不止于此：比如它还包括了预定义的范围（<code>bg-red-100</code>, <code>bg-red-200</code> 等）。Tailwind 旨在让我们的开发事半功倍，从某个角度来说，它也确实做到了。</p><p>同时，我很喜欢这个名字：Tailwind（顺风）。我闲下来的时候会驾船出海，顺风可是个不错的东西。</p><h3 id="语法">语法</h3><p>正如上面所展示的，我们直接在 HTML 中书写工具类名。我们会很快想到这和内联 CSS 是非常相似的，这或许也能解释为什么 Tailwind 的开发者会在<a target="_blank" rel="noopener" href="https://tailwindcss.com/docs/utility-first#why-not-just-use-inline-styles">文档</a>的开头部分就提及这个问题。</p><p>虽然他们极力解释，称 Tailwind 瑕不掩瑜（我不否认它确实有诸多优点），但我还是不太认可它的语法。我不想用一大堆类名污染 HTML 结构中的每一个元素，也不想每天都面对这样的代码：</p><div class="figure"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Tailwind%20CSS/2.png" alt="Image for post"><p class="caption">Image for post</p></div><p>注意：上面这段代码来自 Tailwind 的文档，所做的事情是渲染一个简单的卡片。事实上，它最后呈现的效果非常漂亮，甚至还是响应式的。但如果放眼于我们的日常开发，这种情况就会急速恶化：如果我正在开发一个比卡片复杂更多的组件呢？如果我必须遵循设计师提出的某种设计风格，以及忍受他的一些“小怪癖”呢？</p><p>我尝试去应付这种情况，结果也在意料之中 —— 每一个 HTML 元素都充斥着一大堆 Tailwind 的工具类名。官方文档和教学视频并不会告诉你这些，但在我们着手开发大型应用的时候，这会是一个真实摆在我们面前的问题：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">// 一大堆类名
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sm:w-4 md:w-6 lg:w-10 xl:w-full sm:text-sm md:text-base lg:text-base xl:text-2xl flex-1 sm:flex-none bg-black sm:bg-white rounded-md sm:rounded-none<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>这也是实际开发中不可避免的。</p><p>上面这个例子可不夸张，我甚至可以说它是一个最简化的例子了 —— 至少对于那些有明确要求、明确设计风格（基于不同屏幕尺寸作出的响应式变化和样式调整）的应用来说，是这样的。</p><p>那么要怎么组织这些类名呢？也许我们要创建并遵循某个排序规则，但这样实在太复杂了。另一种做法是允许模板设计者和开发者使用任意一种具体的排序，但这样一来，为了找到要修改的目标类名。我们就不得不水平扫视甚至是滚动查看代码。</p><p><strong>我可不想像找威利一样去找元素的字号</strong>（译者注：威利是儿童书籍《威利在哪里》中的人物，读者需要在一张人山人海的图片中找到威利）</p><p>我的观点是，部分 HTML 元素会使用非常多的样式，这种情况下应该考虑将样式与 HTML 标签进行分离，单独放到某个文件里。这样，我们就可以组织样式并增强其可读性。你不能把 CSS 的所有功能”塞到“ <code>class</code> 这一个 HTML 标签属性里，Tailwind 也不能。这样做只会让 HTML 结构越发臃肿。</p><h3 id="apply"><span class="citation">@apply</span></h3><p>针对上面提到的问题，Tailwind 允许我们在单个 CSS 文件中使用它们的类名：</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.header</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@apply</span> bg-red-200 w-4 text-gray-400 rounded-sm border-red-400 border-2<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>但比起传统编写 CSS（或者 SASS 等其它预处理器）的方式，我看不出这样做有什么优点。你可以说我是“老古董”，但我确实更喜欢下面这种编写方式：</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.header</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #FECACA<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #444<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #F87171<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>再次强调，在真实开发中，元素可能会应用非常多的样式。</p><p>我并没有对 Tailwind 的优点避而不谈，其提供的部分工具类一定有更多用处亟待探索。但谈及语法的时候，我还是希望标记语言（HTML） 和样式规则可以进行明确的分离。我想，这是一个主观的看法。</p><h3 id="清除无用代码">清除无用代码</h3><p>在项目中引入 Tailwind 之后，所有的类名都是可用的。但在构建和打包项目的时候，我们显然并不需要用上所有类名。因此，Tailwind 使用了 PurgeCSS 这个工具：</p><blockquote><p>这就是 PurgeCSS 发挥作用的地方。PurgeCSS 会分析你的内容和 css 文件，首先它将 css 文件中使用的选择器与内容文件中的选择器进行匹配，然后它会从 css 中删除未使用的选择器，从而生成更小的 css 文件。</p></blockquote><p>简单总结一下：首先，我们为项目引入大量的工具类名，接着，在准备构建并发布项目的时候，使用一个工具扫描代码并找出所有未使用的类名，以确保它们不会随其它代码一起打包。其实现依赖于下面这个正则表达式：</p><div class="figure"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Tailwind%20CSS/3.png" alt="Image for post"><p class="caption">Image for post</p></div><p>引入并使用 Tailwind 会给我们的项目平添一层复杂性，复杂性带来的是一定的风险，会给我们的开发造成麻烦。比如说：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">render</span><span class="token punctuation">(</span>
  myItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">item level-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>item<span class="token punctuation">.</span>level<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">&#125;</span><span class="token operator">></span>
      <span class="token punctuation">&#123;</span>item<span class="token punctuation">.</span>text<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>像这样动态生成类名的操作是做不到的。这意味着 Tailwind 对我们的开发造成了限制。关于这一点，<a target="_blank" rel="noopener" href="https://tailwindcss.com/docs/optimizing-for-production#writing-purgeable-html">文档</a>也有提到，但很容易被开发者忽略：</p><div class="figure"><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Tailwind%20CSS/1.jpg" alt="Image for post"><p class="caption">Image for post</p></div><p>字符串拼接的操作是不允许的。</p><p>开发上的限制是一方面，还有一个问题是：给项目增加一层复杂性，通常会给项目带来风险。</p><p>这最终变成了一个关乎判断的问题，即 Tailwind 是否利大于弊？项目不同，对这个问题的回答也不同，但我们至少得留意到它存在的问题。关于 Tailwind 带来的限制性，上面提到的问题只是冰山一角。可以再举一个例子，那就是给 Tailwind 项目添加额外的（自定义的）CSS <a target="_blank" rel="noopener" href="https://tailwindcss.com/docs/installation#using-a-custom-css-file">并不那么简单直接</a>。</p><h3 id="替代品">替代品</h3><p>在阅读了 Tailwind 的文档并上手开发了几天之后，我忍不住在想：作者并没有意识到我们中的大多数人已经在日常开发中使用其它工具来简化样式编写了。</p><p>文档说过，使用 Tailwind 的一个好处在于可以避免魔数（译者注：魔数指的是缺乏解释或命名的独特数值，出现多次，且可以被有名字的常量取代）。确实如此，这是它的一个优点：我们定义一个诸如 <code>bg-red-200</code> 的颜色工具类，之后可以在代码各处使用，并在一个地方（Tailwind 的配置文件）集中修改它的实际值。这还是挺香的，我相信你也同意这种做法。</p><p>但今天的工具，比如说 <a target="_blank" rel="noopener" href="https://sass-lang.com/">SASS</a> （周下载量超过五百万），早就可以轻松创建工具类和变量并在代码中重用了。甚至原生的 CSS 也已经支持使用变量。</p><p>当我们使用 SASS 或者原生 CSS 的时候，我们不需要面对额外的一层复杂性，在编写 CSS 样式规则的时候，也不需要改变既已形成的习惯和语法。</p><p>使用 Tailwind 是有成本的。花费时间和精力学习 Tailwind 的语法和类名，你会逐渐忘记其背后的语法：也即原生 CSS 的语法。如果我的开发者在一个更大的项目中使用 Tailwind 长达一年，他们将会逐渐忘记原生 CSS。这种事态真的乐观吗？我不太确定。</p><h3 id="后序">后序</h3><p>Tailwind 很流行，它的吸引力和追捧者与日俱增。我能理解这其中的原因，毕竟使用它真的可以让我们受益匪浅。对其优点我也表示认可，它的一些工具类可以发挥很大的作用。</p><p>我撰写本文的目的，在于向各位展示一个事实：故事总是有两面性的。</p><p>一些人会从这个框架中受益，但还有一些人则会受限，他们会在开发的过程中不断发现这些限制 —— 或者更糟，在开发后才发现。</p><p>在适应新框架的时候，请保持你的批判性。当“每个人”都高声惊呼其惊艳的时候，也许正是冷静坐下、仔细端详的最佳时机。</p><p>感谢你花费时间阅读本文！</p></div><div class="post-nav"><div class="post-nav-prev"><a href="/2021/04/07/CN-%E6%B5%85%E8%B0%88%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%EF%BC%9ADNS%20%E7%AF%87/" rel="prev" title="浅谈网络协议：DNS 篇"><i class="fa fa-angle-double-left"></i>&nbsp浅谈网络协议：DNS 篇</a></div><div class="post-nav-next"><a href="/2021/02/09/F-30%20%E4%B8%AA%E6%A1%88%E4%BE%8B%E6%95%99%E4%BD%A0%E7%94%A8%E7%BA%AF%20CSS%20%E5%AE%9E%E7%8E%B0%E5%B8%B8%E8%A7%81%E7%9A%84%E5%87%A0%E4%BD%95%E5%9B%BE%E5%BD%A2/" rel="next" title="30 个案例教你用纯 CSS 实现常见的几何图形">30 个案例教你用纯 CSS 实现常见的几何图形&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top">Contents</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-text">引言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-tailwind-css"><span class="toc-text">什么是 Tailwind CSS？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apply"><span class="toc-text">@apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E6%97%A0%E7%94%A8%E4%BB%A3%E7%A0%81"><span class="toc-text">清除无用代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%BF%E4%BB%A3%E5%93%81"><span class="toc-text">替代品</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E5%BA%8F"><span class="toc-text">后序</span></a></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"retro",pageSize:10,visitor:!0})</script></section></main><script>var user=[1,2,3,4]</script><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - <span>2021</span> My Blog</p><p class="a">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script></body></html><!-- rebuild by neat -->