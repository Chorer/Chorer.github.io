<!-- build time:Sun Dec 26 2021 10:43:46 GMT+0800 (中国标准时间) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Focus on FE learning</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third%20party/prism.css"><link rel="stylesheet" href="/css/third%20party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third%20party/pace-theme-flash.css"><link rel="icon" href="/images/kour.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><meta name="generator" content="Hexo 5.4.0"></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">Chor's blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">首页</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">分类</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">归档</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">标签</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">关于</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue" class="logo">Focus on FE learning</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">null 和 undefined</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2019-02-12&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp1.2k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp4 mins&nbsp&nbsp&nbsp</span><div class="post-tags"></div></div><div class="post-content"><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/null%20%E5%92%8C%20undefined/null%E5%92%8Cundefined-1.png" alt=""></p><span id="more"></span><h3 id="undefined-的特殊行为"><a class="markdownIt-Anchor" href="#undefined-的特殊行为"></a> <code>undefined</code> 的特殊行为</h3><p>使用 <code>var</code> 声明但没有进行初始化定义的变量，其值默认为 <code>undefined</code>：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> aa<span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undeifned</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>直接使用未声明的变量（<code>console.log(aa)</code>）会报错：</p><p><img src="https://raw.githubusercontent.com/Chorer/MyBlog-Pic/master/Myblogs/null%E5%92%8Cundefined%20-1.png" alt=""><br>但对未声明的变量使用 <code>typeof</code> 却不会报错。</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span>   <span class="token comment">// undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="比较-null-和-undefined"><a class="markdownIt-Anchor" href="#比较-null-和-undefined"></a> 比较 <code>null</code> 和 <code>undefined</code></h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>对于 <code>undefined</code> 和 <code>null</code> 的相等性测试，返回 <code>true</code>。这是因为，<code>undefined</code> 是由 <code>null</code> 派生而来的。但是，这两者差别很大，之所以要设置两个值，让我们从历史原因说起吧</p><p><strong>1）历史原因：</strong><br>1995 年 JavaScript 诞生时，最初像 Java 一样只设置了 <code>null</code> 作为表示&quot;无&quot;的值。根据 C 语言的传统， <code>null</code> 被设计成可以自动转为0。但是，JavaScript 的设计者 Brendan Eich 觉得这样做还不够，有两个原因。首先，<code>null</code> 像在 Java 里一样，被当成一个对象。但是，JavaScript 的数据类型分成原始类型（primitive）和合成类型（complex）两大类，Brendan Eich 觉得表示&quot;无&quot;的值最好不是对象；其次，JavaScript 的最初版本没有包括错误处理机制，发生数据类型不匹配时，往往是自动转换类型或者默默地失败。Brendan Eich 觉得，如果 <code>null</code> 自动转为 0，很不容易发现错误。<br>因此，Brendan Eich 又额外设计了一个 <code>undefined</code>。</p><p><strong>2）最初设计：</strong><br>JavaScript 的最初版本是这样区分的：<code>null</code> 是一个表示&quot;无&quot;的对象，转为数值时为 0；<code>undefined</code> 是一个表示&quot;无&quot;的原始值，转为数值时为 NaN。</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token comment">// NaN</span>
<span class="token number">5</span> <span class="token operator">+</span> <span class="token keyword">undefined</span>
<span class="token comment">// NaN</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>3）目前的用法：</strong><br>但是，上面这样的区分，在实践中很快就被证明不可行。实践中有很多需要注意的地方。</p><p><strong>null</strong></p><p><code>null</code> 是基本数据类型之一，值仅有一个，即为 <code>null</code>。它表示&quot;空对象&quot;(因此类型检测返回对象)，即如果有对象，就会是一个具体的对象，如果没对象，就是 <code>null</code>。典型用法是：<br>（1）作为函数的参数，表示该函数的参数不是对象。<br>（2）作为对象原型链的终点。</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// null    </span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span>     <span class="token comment">// object</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>如果定义的变量准备在将来用来保存对象，那么最好将该变量初始化为 <code>null</code> 而不是其他值。这样做不仅可以体现 <code>null</code> 作为空对象指针的惯例，而且也有助于进一步区分 <code>null</code> 和 <code>undefined</code>。<br>只要直接检查 <code>null</code> 值就可以知道相应的变量是否已经保存了一个对象的引用，如下面的例子：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>abc <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
<span class="token comment">//对abc执行某些操作</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>undefined</strong></p><p><code>undefined</code> 是基本数据类型之一，值仅有一个，即为 <code>undefined</code>。它表示&quot;缺少值&quot;(因此类型检测返回 <code>undefined</code>)，即此处应该有一个值，但是还没有定义。典型用法是：<br>（1）变量被声明了，但没有赋值时，就等于 <code>undefined</code>。<br>（2) 调用函数时，应该提供的参数没有提供，该参数等于 <code>undefined</code>。<br>（3）对象没有赋值的属性，该属性的值为 <code>undefined</code>。<br>（4）函数没有返回值时，默认返回 <code>undefined</code>。</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> i<span class="token punctuation">;</span>
i <span class="token comment">// undefined</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span>p <span class="token comment">// undefined</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> exp <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="undefined-和-null-的检测"><a class="markdownIt-Anchor" href="#undefined-和-null-的检测"></a> <code>undefined</code> 和 <code>null</code> 的检测</h3><blockquote><p>如何检测某个变量是 <code>undefined</code>？</p></blockquote><p>错误的用法：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>abc <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>        
<span class="token comment">// 正如上面所说，js规定用`==` 判断时，null和undefined是等同的</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>正确的用法：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span>   
<span class="token comment">// 或者最简单的办法：</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>abc <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>PS：注意 <code>typeof</code> 的用法有运算符形式和函数形式，即 <code>if(typeof(abc) == &quot;undefined&quot;)</code> 和 <code>if(typeof abc == &quot;undefined&quot;)</code> 效果是一样的。另外，由于 <code>typeof</code> 会返回诸如 <code>&quot;number&quot;</code> 的字符串形式的结果，因此右操作数应注意加双引号表示字符串。</p><blockquote><p>如何检测某个变量是 <code>null</code>？</p></blockquote><p>错误的用法：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>abc <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>      
<span class="token comment">// 解释同上。不过：要判断abc是 null 或者 undefined 时可使用这个方法。</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>abc<span class="token punctuation">)</span>        
<span class="token comment">// 这个的原理是：abc为假值，则 ! abc为真值，条件成立。然而，假值也可能是undefined，0 或 false。不过：要判断 abc是null、undefined、0 或者false 时可使用本法。 </span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> abc <span class="token operator">==</span> <span class="token string">"null"</span><span class="token punctuation">)</span>
<span class="token comment">//  为了向下兼容，abc 为 null 时，typeof null 总返回 object，所以不能这样判断。</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNull</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//   VBScript 中有 IsNull 这个函数，但 JavaScript 中没有。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>正确的用法：</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> abc <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> abc <span class="token operator">!=</span> <span class="token string">"undefined"</span> <span class="token operator">&amp;&amp;</span> abc <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// 这个的原理是：如果！abc 成立，则 abc 为假值，则 abc 要么是undefined，0，false或者null 。typeof abc!= "undefined" 排除了 undefined；exp != 0 排除了0 和 false （0= =false，0= =0）。所以，abc一定是剩下的null。</span>

<span class="token comment">// 或者使用最简单的方法：   </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>abc <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="post-nav"><div class="post-nav-prev"><a href="/2019/02/12/F-%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/" rel="prev" title="变量命名规范"><i class="fa fa-angle-double-left"></i>&nbsp变量命名规范</a></div><div class="post-nav-next"><a href="/2019/02/11/M-%E8%8B%B1%E4%BC%A6%E6%91%87%E6%BB%9A%E5%85%A5%E9%97%A8%EF%BC%9A20%E6%94%AF%E8%8B%B1%E5%9B%BD%E6%91%87%E6%BB%9A%E4%B9%90%E9%98%9F/" rel="next" title="英伦摇滚入门：20支英国摇滚乐队">英伦摇滚入门：20支英国摇滚乐队&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top">Contents</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined-%E7%9A%84%E7%89%B9%E6%AE%8A%E8%A1%8C%E4%B8%BA"><span class="toc-text">undefined 的特殊行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83-null-%E5%92%8C-undefined"><span class="toc-text">比较 null 和 undefined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined-%E5%92%8C-null-%E7%9A%84%E6%A3%80%E6%B5%8B"><span class="toc-text">undefined 和 null 的检测</span></a></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>function send_valine_Server(){var e="desp=",t=document.title,n=t.indexOf("|"),a=(t.substring(0,n),document.URL),s=new Date,l=document.getElementsByClassName("vnick vinput")[0].value||"Anonymous",i=(document.getElementsByClassName("vmail vinput")[0].value,document.getElementsByClassName("vlink vinput")[0].value,document.getElementsByClassName("veditor vinput")[0].value),o=e+"文章："+a+"\n\n昵称："+l+"\n\n留言："+i+"\n\n时间："+s.toLocaleString(),v=new XMLHttpRequest;v.open("POST","https://sc.ftqq.com/"+SCKEY_Server+".send",!0),v.setRequestHeader("Content-type","application/x-www-form-urlencoded"),v.send(title1+"&"+o)}new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"retro",pageSize:10,visitor:!0});var title1="text=你的博客有新的评论",SCKEY_Server="SCT99005TwWJDrDKdBwQGK0YmcPRAsr4B",ValineButton=document.getElementsByClassName("vsubmit vbtn")[0];ValineButton.onclick=send_valine_Server</script></section></main><script>var user=[1,2,3,4]</script><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - <span>2021</span> My Blog</p><p class="a">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a target="_blank" rel="noopener" href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script src="/js/prism.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":150,"height":300,"vOffset":-120,"hOffset":-5},"mobile":{"show":false},"react":{"opacityDefault":1000,"opacityOnHover":1000},"log":false});</script></body></html><!-- rebuild by neat -->