<!-- build time:Tue Jan 19 2021 22:44:22 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Focus on FE learning</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third%20party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third%20party/pace-theme-flash.css"><link rel="icon" href="/images/kour.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script><script src="/js/prism-line-numbers.min.js"></script><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">Chor's blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">首页</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">分类</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">归档</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">标签</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">关于</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a href="https://github.com/Chorer/hexo-theme-PureBlue" target="_blank" rel="noopener" class="logo">Focus on FE learning</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">Linux 系统操作</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2020-04-25&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp4.1k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp15 mins&nbsp&nbsp&nbsp</span><div class="post-tags"></div></div><div class="post-content"><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/OS-Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C-1.png" alt=""></p><a id="more"></a><blockquote><p>上了近六周的操作系统理论课，最近终于开始做实验了。关于 Linux 这块，不想学得太深入，但是以后部署项目到服务端也会涉及到这部分的知识，所以一些基本的概念和操作还是有必要学一学的。这篇笔记就作为平时查看的手册。</p></blockquote><p>以下操作基于 Ubuntu 。</p><h3 id="帮助指令"><a href="#帮助指令" class="headerlink" title="帮助指令"></a>帮助指令</h3><h4 id="1-man"><a href="#1-man" class="headerlink" title="1. man"></a>1. <code>man</code></h4><p>用法：man + 参数</p><p>查看相关命令、相关文件等的使用手册。Ctrl+f 上一页，Ctrl+b 下一页，Ctrl+Home 第一页，Ctrl+End 最后一页，q 退出回到终端</p><p>输入 <code>man man</code> 查找 <code>man</code> 命令本身的使用手册：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/OS-Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C-2.png" alt=""></p><p>可以看到数字代表相关类型的帮助所在的章节，比如数字 1 就代表 shell 指令的相关帮助，所以 <code>man man</code> 等价于 <code>man 1 man</code>。之所以要用数字进行区分，是为了防止重名带来的指向不明确，比如 <code>passwd</code> 可能是文件或者指令，当加上数字 1 的时候，指的是指令；加上 5 的时候，指的是文件。</p><p>如果不知道指的是什么，就用 <code>man -a xxx</code>，这样就默认在所有章节的手册中查找相关帮助。</p><p>使用手册默认是英文的，可以安装汉化包（先切换到 root 用户）：</p><pre class="line-numbers language-js"><code class="language-js">apt<span class="token operator">-</span><span class="token keyword">get</span> install manpages<span class="token operator">-</span>zh
vi <span class="token operator">/</span>etc<span class="token operator">/</span>manpath<span class="token punctuation">.</span>config
<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>$s#<span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>man#<span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>man<span class="token operator">/</span>zh_CN#g
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="2-help"><a href="#2-help" class="headerlink" title="2. help"></a>2. <code>help</code></h4><p>用法：</p><ul><li><p><code>help</code> + 参数：内部命令，比如 <code>help cd</code></p></li><li><p>参数 + <code>--help</code>：外部命令，比如 <code>ls --help</code></p></li></ul><p><code>help</code> 用于查询外部命令和内部命令的使用手册。内部命令指的是 shell 内嵌的（shell builtin），其它命令则是外部命令（is hashed）</p><h4 id="3-info"><a href="#3-info" class="headerlink" title="3. info"></a>3. <code>info</code></h4><p>用法：<code>info</code> + 参数</p><p><code>info</code> 作为 <code>help</code> 的补充，会更加详细。</p><h3 id="目录管理"><a href="#目录管理" class="headerlink" title="目录管理"></a>目录管理</h3><h4 id="1-目录结构"><a href="#1-目录结构" class="headerlink" title="1. 目录结构"></a>1. 目录结构</h4><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/OS-Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C-3.png" style="zoom:80%"></p><p><strong>/</strong> ：根目录</p><p><strong>/bin</strong>：存放常用的二进制可执行命令，如 ls，mv 等，通常与 <code>/usr/bin</code> 内容一样。</p><p><strong>/dev</strong>：存放与设备有关的特殊文件，如 <code>/dev/fd0</code> 代表软盘，<code>/dev/cdrom</code> 代表光盘。</p><p><strong>/etc</strong>：存放系统管理和配置的文件，如用户的账号、密码以及系统的主要设置。</p><p><strong>/home</strong>：为用户设置的主目录，每一个普通用户在 home 下都有对应的普通用户家目录，比如 chor 就有 <code>/home/chor</code> ，可用 <code>~</code> 表示。</p><p><strong>/root</strong>：root 用户的超级用户家目录，也可用 <code>~</code> 表示。</p><p><strong>/lib</strong>：标准程序设计库，或动态链接共享库。</p><p><strong>/sbin</strong>：系统管理命令，存放系统管理员程序，如 fdisk、mount 等。</p><p><strong>/boot</strong>：存放 Linux 核心与启动和关闭系统有关的文档。</p><p><strong>/mnt</strong>：其他文件系统的挂载点。</p><p><strong>/var</strong>：系统预先设置的工作目录，如各种服务的日志文件和收发的邮件等。</p><p><strong>/proc</strong>：虚拟目录，是系统内存的映射，通过访问该目录获取系统信息。</p><p><strong>/tmp</strong>：公用的临时文件存储点。</p><p><strong>/usr</strong>：最庞大和最主要的目录之一，要用到的应用程序和文件几乎都在这个目录。</p><ul><li><strong>/usr/bin</strong> ：应用程序</li><li><strong>/usr/sbin</strong>：超级用户的管理程序</li><li><strong>/usr/local</strong>：存放本地增加的命令</li><li><strong>/usr/lib</strong>：存放常用动态链接库和软件包的配置文件</li><li><strong>/usr/src</strong>：保存 Linux 内核的源代码，编译内核时必须用到</li><li><strong>/usr/share</strong>：Linux 的说明文档</li><li><strong>/usr/include</strong>：Linux 下编程需要的头文件</li></ul><h4 id="2-目录查看"><a href="#2-目录查看" class="headerlink" title="2. 目录查看"></a>2. 目录查看</h4><p><strong><code>pwd</code></strong></p><p>显示当前所在目录（路径）</p><p><strong><code>ls</code></strong></p><p><code>ls</code>：显示当前所在路径下的文件</p><p><code>ls</code> + 路径：显示指定路径下的文件</p><p><code>ls -l</code>：显示当前所在路径下的文件，并且带有详情（修改时间、大小、权限等）</p><p><code>ls -a</code>：显示当前所在路径下的文件，包括隐藏文件</p><p><code>ls -r</code>：按照文件名逆序显示当前所在路径下的文件</p><p><code>ls -t</code>：按照时间顺序显示当前所在路径下的文件</p><p><code>ls -R</code>：递归显示当前所在路径下的文件，包括文件里面的文件</p><p><code>ls -lartR</code>：上面几种查看方式的组合</p><p><code>ls xxx*</code>：显示当前所在路径下以 xxx 开头的文件</p><p>PS：如果要目标是指定路径下，再加上第三个参数即可</p><p><strong><code>cd</code></strong></p><p>用法：</p><ul><li><p><code>cd</code> + 绝对路径</p></li><li><p><code>cd</code> + 相对路径</p></li><li><p><code>cd -</code> ：回到上一次 cd 进去的目录</p></li><li><code>cd ~</code> ：回到用户家目录（<code>/home/xxx</code> 或者 <code>/root</code>）</li></ul><p>切换当前工作目录。另外，shell 提供了路径补全功能，按 tab 可以自动补全路径</p><h4 id="3-目录创建和删除"><a href="#3-目录创建和删除" class="headerlink" title="3. 目录创建和删除"></a>3. 目录创建和删除</h4><p><code>mkdir folder1 folder2</code>：在当前目录下创建 folder1 目录和 folder2 目录</p><p><code>mkdir /etc/folder</code>：在 etc 目录下创建 folder 目录</p><p><code>mkdir -p f1/f2/f3/f4</code>：在当前目录下递归创建目录 f1、f2、f3、f4</p><p><code>rmdir folder</code>：删除 folder <strong>空目录</strong>（如果 folder 里面有文件，是无法删除 folder 的）</p><p><code>rmdir -p folder1/folder2</code>：删除 folder2 <strong>空目录</strong>，如果删除之后导致 folder1 也变成空目录，则将 folder1 目录也删除</p><p><code>rm -r folder</code>：删除 folder 目录以及目录下所有文件（Centos 下会进行询问）</p><p><code>rm -r -f folder</code>（或者 <code>rm -rf folder</code>）：强制删除 folder 目录以及目录下所有文件（无论空还是非空）</p><h4 id="4-目录复制和移动"><a href="#4-目录复制和移动" class="headerlink" title="4. 目录复制和移动"></a>4. 目录复制和移动</h4><p><code>cp -r /folder2 /folder1</code>：将目录 folder2 复制到 folder1 目录里</p><p><code>mv /folder /etc</code>：将 folder 目录移动到 etc 目录里（目录 ——&gt; 目录）</p><h3 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h3><h4 id="1-文件创建和删除"><a href="#1-文件创建和删除" class="headerlink" title="1. 文件创建和删除"></a>1. 文件创建和删除</h4><p><code>touch filea fileb</code>：创建文件 filea 和 fileb</p><p><code>rm filea</code>：删除文件 filea</p><h4 id="2-文件编辑"><a href="#2-文件编辑" class="headerlink" title="2. 文件编辑"></a>2. 文件编辑</h4><p><code>cat&gt;filea</code>：直接在终端中编辑 filea 文件（<code>ctrl+c</code> 保存退出）。无该文件时会自动创建。</p><p><code>cat file1 file2&gt;&gt;file3</code>：将 file1 和 file2 内容进行拼接，再放到 file3 中。</p><p><code>gedit filea</code>：打开 filea 文件进行修改</p><p><code>echo 123&gt;filea</code>：将输出进行重定向，把 123 输出到 filea 文件</p><h4 id="3-文件查看"><a href="#3-文件查看" class="headerlink" title="3. 文件查看"></a>3. 文件查看</h4><p>用法：</p><p><code>cat filea</code>： 从头到尾查看文本内容</p><p><code>head -10 filea</code>：查看文本内容前十行</p><p><code>tail -10 filea</code>：查看文本内容倒数十行</p><p><code>more -5 filea</code>：支持翻页查看文本内容，一屏显示5行。<code>b</code> 和 <code>space</code> 控制上下翻页</p><p><code>less -5 filea</code>：支持翻页查看文本内容，一屏显示5行。<code>pageup</code> 和 <code>pagedown</code> 控制上下翻页</p><p><code>wc filea</code>：统计文件内容信息</p><p>PS：常用参数 <code>-f</code>，同步追踪并显示正在发生更改的文件内容。<code>more</code> 和 <code>less</code> 支持翻页，适合用来查看那些内容超过一屏的文本。</p><h4 id="4-文件复制和移动"><a href="#4-文件复制和移动" class="headerlink" title="4. 文件复制和移动"></a>4. 文件复制和移动</h4><p><code>cp file /a</code>：将文件 file 复制到 a 目录里</p><p><code>cp -p file /a</code>：将文件 file 复制到 a 目录里，并且副本时间和原文件一样</p><p><code>cp -a file /a</code>：将文件 file 复制到 a 目录里，并且副本时间、权限等都和原文件一样</p><p><code>mv /filea /fileb</code>：将 filea 重命名为 fileb（文件 ——&gt; 文件）</p><p><code>mv /filea /etc</code>：将 filea 移动到 etc 目录里（文件 ——&gt; 目录）</p><p><code>mv /filea /etc/fileb</code>：将 filea 移动到 etc 目录里，并将文件重命名为 fileb</p><p>PS：小技巧。如果重名名前后只有局部差异，可以考虑将前后改动包裹在 <code>{}</code> 中。例如 <code>filea</code> 修改为 <code>fileb</code>，可以这么写：<code>mv file{a,b}</code></p><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h4 id="1-创建用户（组）"><a href="#1-创建用户（组）" class="headerlink" title="1. 创建用户（组）"></a>1. 创建用户（组）</h4><p>用法：</p><p><code>useradd chor</code>：直接创建新用户 chor，但是不生成对应的家目录 <code>/home/chor</code></p><p><code>adduser chor</code>：以引导的方式创建新用户 chor，生成对应的家目录 <code>/home/chor</code></p><p><code>groupadd group1</code>：创建新用户组 group1</p><p><code>adduser -g group1 chor</code>：创建新用户 chor 的同时将其分组为 group1</p><p>PS：必须以 root 身份创建用户。上述两种方式区别在于是否创建对应家目录，但都会在 <code>/etc/passwd</code> 下添加用户，<code>/etc/shadow</code> 下添加密码。更推荐用 <code>adduser</code>。</p><h4 id="2-查看用户"><a href="#2-查看用户" class="headerlink" title="2. 查看用户"></a>2. 查看用户</h4><p><code>id</code>：查看当前激活用户信息</p><p><code>id chor</code>：查看 chor 用户的信息</p><p>PS：信息中，uid 唯一标识用户，group 是用户所在组，默认以用户名单独建一个组（组的作用在于统一修改多个用户）</p><p><code>who</code>：查看当前登录用户</p><p><code>whoami</code>：查看当前终端用户</p><h4 id="3-修改用户"><a href="#3-修改用户" class="headerlink" title="3. 修改用户"></a>3. 修改用户</h4><p><code>passwd</code>：修改当前激活用户的密码</p><p><code>passwd chor</code>：修改 chor 用户的密码</p><p><code>usermod -d /home/chor1 chor</code>：修改 chor 用户的家目录</p><p><code>usermod -g group1 chor</code>：修改 chor 用户的所在组为 group1</p><p><code>chage -E 2020-10-01 chor</code>：设置 chor 用户的生命周期，2020.10.01 时该用户不可用</p><h4 id="4-删除用户（组）"><a href="#4-删除用户（组）" class="headerlink" title="4. 删除用户（组）"></a>4. 删除用户（组）</h4><p><code>userdel chor</code>：删除 chor 用户，但保留其家目录（防止删除重要数据）</p><p><code>userdel -r chor</code>：删除 chor 用户，并且删除其家目录</p><p><code>deluser chor</code>：删除 chor 用户，但保留其家目录（防止删除重要数据）</p><p><code>userdel --remove-home chor</code>：删除 chor 用户，并且删除其家目录</p><p><code>groupdel group1</code>：删除用户组 group1</p><p>PS：更推荐用 <code>userdel</code></p><h4 id="5-切换用户"><a href="#5-切换用户" class="headerlink" title="5. 切换用户"></a>5. 切换用户</h4><p><code>su chor</code>：切换到 chor 用户，但当前目录不变</p><p><code>su - chor</code>：切换到 chor 用户，且当前目录自动切换到 chor 的家目录下</p><p><code>su</code>：切换到 root 用户</p><p><code>su - root</code>：切换到 root 用户</p><p><code>exit</code>：退出当前用户，切换为到 root 用户</p><h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><h4 id="1-指令权限"><a href="#1-指令权限" class="headerlink" title="1. 指令权限"></a>1. 指令权限</h4><p><code>sudo shutdown -c</code>：以普通用户 chor 的身份执行 root 用户赋予给自己的特权指令 <code>shutdown -c</code></p><p><code>visudo</code>：以 root 身份编辑赋予给普通用户的特权指令</p><h4 id="2-文件权限"><a href="#2-文件权限" class="headerlink" title="2. 文件权限"></a>2. 文件权限</h4><p><strong>① 查看权限</strong></p><p><code>ls -l file</code>：查看文件权限</p><p><code>ls -ld folder</code>：查看目录权限</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/OS-Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C-4.png" style="zoom:67%"></p><p>查看到信息的时候只需关注前面的部分：</p><ul><li>在 <code>chor chor</code> 中，第一个<code>chor</code> 代表文件所有者，第二个 <code>chor</code> 代表所有者所在组。</li><li>在 <code>- rw-rw-r--</code> 中 ，第一个 <code>-</code> 指示文件是普通类型。第一个 <code>rw-</code> 代表文件所有者对该文件的权限，第二个 <code>rw-</code> 代表文件所有者所在组对该文件的权限，<code>r--</code> 代表其他用户对该文件的权限。同样的，<code>d rwxrwxr-x</code> 也是一样的，只不过 <code>d</code> 指示文件是目录类型（文件夹）</li><li>对于普通类型，<code>r</code>、 <code>w</code>、 <code>x</code> 分别代表对文件拥有<strong>可读可写可执行</strong>的权限，<code>-</code> 代表未指定</li><li>对于目录类型，<code>r</code>、 <code>w</code>、 <code>x</code> 分别代表对目录拥有<strong>可显示目录内文件（ls）</strong>、<strong>可修改目录内文件（rm）</strong>和<strong>可进入目录（cd）</strong>的权限，<code>-</code> 代表未指定</li><li><code>r</code>、 <code>w</code>、 <code>x</code> 可以分别用数字 4、2、1 表示</li></ul><p><strong>② 修改权限</strong></p><p><code>chown user1 file</code>：修改文件所有者</p><p><code>chown :group1 file</code>：修改文件所有者所在组</p><p><code>chown user1:group1 file</code>：修改文件所有者和所在组</p><p><code>chgrp group1 file</code>：修改文件所有者所在组</p><p>可以用字符修改权限：</p><p><code>chmod u+rw file</code>：修改文件所有者对 file 的权限，增加 <code>rw</code> 权限</p><p><code>chmod g-r file</code>：修改文件所有者所在组对 file 的权限，减去 <code>r</code> 权限</p><p><code>chmod o=rwx file</code>：修改其它用户对 file 的权限，为 <code>rwx</code> 权限</p><p><code>chmod a-w file</code>：修改所有用户对 file 的权限，去掉所有出现过的 <code>w</code> 权限</p><p>PS：u 代表文件所有者，g 代表所有者所在组，o 代表其它用户，a 代表所有用户。操作方式包括 +，-，=</p><p>也可以用数字修改权限：</p><p><code>chomod 777 file</code>：修改 file 权限为 777。7 = 4+2+1，所以 777 的意思是所有的用户对该文件都拥有可读可写可执行的权限。</p><p>注意：</p><ul><li>root 用户不受权限影响，即使为某文件设置 <code>770</code>，root 用户依然可以读写该文件</li><li>为文件设置 <code>040</code>，则文件所有者没有读权限，但是文件所有者所在组又有读权限，这就矛盾了。此时以所有者为准，它依然没有读权限，但是所在组除了所有者之外的其它用户有读权限。</li></ul><h3 id="软件安装"><a href="#软件安装" class="headerlink" title="软件安装"></a>软件安装</h3><p>Linux 下安装软件，可以通过源码包安装，也可以通过软件包安装，这里介绍后面一种。软件包的安装相关概念如下：</p><table><thead><tr><th style="text-align:center">系列</th><th style="text-align:center">发行版</th><th style="text-align:center">包管理机制</th><th style="text-align:center">安装包格式</th><th style="text-align:center">包管理器（无法处理依赖）</th><th style="text-align:center">包管理器（可以处理依赖）</th></tr></thead><tbody><tr><td style="text-align:center">RedHat 系列</td><td style="text-align:center">Fedora，CentOS</td><td style="text-align:center"><code>rpm</code></td><td style="text-align:center"><code>.rpm</code></td><td style="text-align:center">rpm</td><td style="text-align:center">yum</td></tr><tr><td style="text-align:center">Debian 系列</td><td style="text-align:center">Ubuntu，Debian</td><td style="text-align:center"><code>dpkg</code></td><td style="text-align:center"><code>.deb</code></td><td style="text-align:center">dpkg</td><td style="text-align:center">apt</td></tr></tbody></table><p>因为个人用的是 Ubuntu，这里仅介绍 apt 的相关用法。</p><blockquote><p>新版 Ubuntu 中，建议用 <code>apt</code> 代替旧的 <code>apt-get</code></p></blockquote><h4 id="0-修改安装源"><a href="#0-修改安装源" class="headerlink" title="0. 修改安装源"></a>0. 修改安装源</h4><p>在动手安装软件包之前，首先必须修改默认的安装源，改为国内的镜像地址，否则速度会非常慢。具体做法可以参考<a href="https://chorer.github.io/%2F2020%2F04%2F14%2FOS-Ubuntu%20%E4%B8%8B%E5%AE%89%E8%A3%85gcc%E7%BC%96%E8%AF%91%E5%99%A8%2F">之前写的这篇文章</a>，这里我们介绍另一种纯命令行修改镜像地址的方法。</p><ol><li>通过 <code>cat</code> 指令查看 <code>/etc/apt/sources.list</code> 文件，大概是这样的内容：</li></ol><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/OS-Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C-5.png" alt=""></p><p>可以看到，默认的安装源地址是 <code>http://archive.ubuntu.com</code>，这个地址安装软件是非常慢的，我们要进行替换。</p><ol start="2"><li>这里使用流编辑器 sed 进行地址替换：</li></ol><pre class="line-numbers language-shell"><code class="language-shell">sudo sed -i s/archive.ubuntu.com/mirrors.aliyun.com/g /etc/apt/sources.list
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这里的 <code>-i</code> 代表直接对文件进行修改；<code>s/aaa/bbb/g</code> 中，<code>s</code> 表示替换，<code>aaa</code> 表示修改前的地址，<code>bbb</code> 表示修改后的地址；末尾的参数则表示要修改的文件。</p><p>我这里使用的是阿里云的镜像源，也可以选择其它的。</p><ol start="3"><li><p>查看替换后的文件：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C/OS-Linux%20%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C-6.png" alt=""></p></li><li><p>通过下面的指令更新软件包列表：</p><pre class="line-numbers language-shell"><code class="language-shell">sudo apt update
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h4 id="1-安装-更新相关"><a href="#1-安装-更新相关" class="headerlink" title="1. 安装/更新相关"></a>1. 安装/更新相关</h4><p><code>apt install</code>：安装软件包</p><p><code>apt update</code>：并不实际更新软件，而是更新软件包列表。具体地说，运行命令后会逐一访问 <code>sources.list</code> 文件中的原仓库地址，并读取最新的软件包列表，保存在本地中。</p><p><code>apt upgrade</code>：更新软件，但<strong>不会根据依赖关系的变化添加或删除软件</strong>。具体地说，运行命令后会将当前安装软件与之前通过 <code>update</code> 更新的软件包列表进行比对，有需要更新的就会进行更新。</p><p><code>apt dist-upgrade</code>：同上，但是<strong>会根据依赖关系的变化添加或删除软件</strong></p><h4 id="2-移除相关"><a href="#2-移除相关" class="headerlink" title="2. 移除相关"></a>2. 移除相关</h4><p><code>apt remove</code>：卸载软件包，但保留配置文件</p><p><code>apt --purge remove</code>：卸载软件包，且不保留配置文件</p><p><code>apt autoremove</code>：卸载为了满足其它软件的依赖而安装的、但现在已不再需要的软件包</p><p><code>apt clean</code>：删除安装软件时缓存的 <code>.deb</code> 文件</p><p><code>apt autoclean</code>：同上，但仅删除旧的、无用的 <code>.deb</code> 文件，对于已安装软件的 <code>.deb</code> 文件会进行保留</p><h4 id="3-查看相关"><a href="#3-查看相关" class="headerlink" title="3. 查看相关"></a>3. 查看相关</h4><p><code>apt check</code>：检查某个软件包是否有损坏的依赖</p><p><code>apt-cache stats</code>：显示系统软件包的统计信息</p><p><code>apt-cache show gcc</code>：查看 gcc 软件包的相关信息</p><p><code>apt-cache showpkg gcc</code>：查看 gcc 软件包的常规信息、依赖关系等</p><p><code>apt-cache policy gcc</code>：查看 gcc 软件包的安装设置状态</p><p><code>apt-cache depends gcc</code>：查看 gcc 软件包所依赖的软件包</p><p><code>apt-cache redepends gcc</code>：查看 gcc 软件包被哪些软件包依赖</p><p>安装 <code>apt-fle</code> 后，可以查看软件包的文件：</p><p><code>apt-file update</code>：要查看软件包的文件，首先运行该命令更新软件包的文件库</p><p><code>apt-file list gcc</code>：展示 gcc 软件包的所有文件</p><p><code>apt-file search file1</code>：查找包含 file1 文件的软件包（不管软件包有没有安装）</p><h3 id="服务相关"><a href="#服务相关" class="headerlink" title="服务相关"></a>服务相关</h3><p>netstat 用于显示与 IP、TCP、UDP 和 ICMP 协议相关的统计数据，一般用于检验本机各端口的网络连接情况。</p><p><strong>显示所有连接和监听的端口：</strong><code>netstat -a</code></p><p><strong>查看 tcp 监听的端口：</strong><code>netstat -ntlp</code></p><p><strong>查看某个进程的端口：</strong> 先 <code>ps -ef | grep 进程名</code> 查看进程 pid，再根据 <code>netstat -nap | grep 进程pid</code> 查看进程的端口</p><p><strong>查看某个端口对应的进程：</strong><code>netstat -nap | grep 端口号</code></p><p><strong>关闭占用某个端口的进程：</strong><code>sudo fuser -k 端口号/tcp</code></p><h3 id="连接相关"><a href="#连接相关" class="headerlink" title="连接相关"></a>连接相关</h3><p>远程连接 linux 服务器的工具有很多，secureSRT、putty 等，我这里使用的是 MobaXterm。如果没有服务器，也可以将本机的虚拟机当作一台远程服务器去连接：</p><ul><li>通过 <code>ifconfig</code> 指令查询虚拟机的 ip 地址（紧跟在 <code>inet</code> 后面的地址）</li><li>查看虚拟机是否安装了 ssh 工具 —— 一般都是没有的，所以通过 <code>apt-get install openssh-server</code> 进行安装</li><li>在 MobaXterm 中新建 session，输入虚拟机 ip 地址进行 ssh 连接</li></ul><p>参考：</p><p>《Linux 实战技能100讲》</p></div><div class="post-nav"><div class="post-nav-prev"><a href="/2020/04/29/F-%E5%A6%82%E4%BD%95%E5%9C%A8Vue%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%9B%B4%E4%BC%98%E9%9B%85%E5%9C%B0%E4%BD%BF%E7%94%A8svg/" rel="prev" title="如何在Vue项目中更优雅地使用svg"><i class="fa fa-angle-double-left"></i>&nbsp如何在Vue项目中更优雅地使用svg</a></div><div class="post-nav-next"><a href="/2020/04/24/CP-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-4%EF%BC%9A%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%EF%BC%88%E4%BA%8C%EF%BC%89/" rel="next" title="编译原理学习笔记-4：词法分析(二)等价转换与DFA的化简">编译原理学习笔记-4：词法分析(二)等价转换与DFA的化简&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top">Contents</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#帮助指令"><span class="toc-text">帮助指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-man"><span class="toc-text">1. man</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-help"><span class="toc-text">2. help</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-info"><span class="toc-text">3. info</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#目录管理"><span class="toc-text">目录管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-目录结构"><span class="toc-text">1. 目录结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-目录查看"><span class="toc-text">2. 目录查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-目录创建和删除"><span class="toc-text">3. 目录创建和删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-目录复制和移动"><span class="toc-text">4. 目录复制和移动</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件管理"><span class="toc-text">文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-文件创建和删除"><span class="toc-text">1. 文件创建和删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-文件编辑"><span class="toc-text">2. 文件编辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-文件查看"><span class="toc-text">3. 文件查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-文件复制和移动"><span class="toc-text">4. 文件复制和移动</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用户管理"><span class="toc-text">用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-创建用户（组）"><span class="toc-text">1. 创建用户（组）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-查看用户"><span class="toc-text">2. 查看用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-修改用户"><span class="toc-text">3. 修改用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-删除用户（组）"><span class="toc-text">4. 删除用户（组）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-切换用户"><span class="toc-text">5. 切换用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#权限管理"><span class="toc-text">权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-指令权限"><span class="toc-text">1. 指令权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-文件权限"><span class="toc-text">2. 文件权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#软件安装"><span class="toc-text">软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#0-修改安装源"><span class="toc-text">0. 修改安装源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-安装-更新相关"><span class="toc-text">1. 安装&#x2F;更新相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-移除相关"><span class="toc-text">2. 移除相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-查看相关"><span class="toc-text">3. 查看相关</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#服务相关"><span class="toc-text">服务相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#连接相关"><span class="toc-text">连接相关</span></a></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><script>var user=[1,2,3,4]</script><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - <span>2021</span> My Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue" target="_blank" rel="noopener">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script></body></html><!-- rebuild by neat -->