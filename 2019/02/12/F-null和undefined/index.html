<!-- build time:Thu Mar 28 2019 14:14:49 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Chor&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="icon" href="/images/NARUTO.gif"><link rel="stylesheet" href="/css/prism-coy.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><link rel="stylesheet" href="/css/prism-coy.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><header class="header"><span><i class="point"></i> <a href="https://github.com/Chorer/hexo-theme-PureBlue/tree/master/PureBlue">PureBlue</a></span><div class="blog-title"><a href="/" class="logo">Chor&#39;s Blog</a></div><nav class="navbar"><ul class="menu"><li class="menu-item"><a href="/" class="menu-item-link">Home</a></li><li class="menu-item"><a href="/categories" class="menu-item-link">Categories</a></li><li class="menu-item"><a href="/archives" class="menu-item-link">Archives</a></li><li class="menu-item"><a href="/tags" class="menu-item-link">Tags</a></li><li class="menu-item"><a href="/about" class="menu-item-link">About</a></li></ul></nav><i id="homelink">https://chorer.github.io</i></header><main class="main"><section class="posts"><article class="post"><div class="post-title"><a class="post-title-link" href="/2019/02/12/F-null和undefined/">null和undefined</a></div><div class="post-time"><span class="time-text">Date:&nbsp </span><span class="time">2019-02-12</span></div><div class="post-tags"><span class="post-tags-list">Tags&nbsp:</span> <a href="/tags/JavaScript/"># JavaScript</a> <a href="/tags/数据类型/"># 数据类型</a></div><div class="post-content"><h2 id="一-undefined在变量声明中的体现："><a href="#一-undefined在变量声明中的体现：" class="headerlink" title="一. undefined在变量声明中的体现："></a>一. undefined在变量声明中的体现：</h2><p>1）声明了、但是没有初始化的变量：</p><pre><code>var aa;
alert(aa);
</code></pre><p>浏览器会弹出窗口显示 <code>undefined</code>。因为对于使用了 <code>var</code> 声明但没有进行初始化定义的变量, 其值默认为 <code>undefined</code>.<br>2） 未声明的变量(1)：</p><pre><code>alert(aa);
</code></pre><p>浏览器不会弹出任何东西. 因为 aa 是没有声明的变量。打开 chrome 浏览器的控制台会看到报错如下：<br><a id="more"></a><br><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/myblog/null%E5%92%8Cundefined%201.png" alt="在这里插入图片描述"></p><p>3）未声明的变量(2)：</p><pre><code>alert(typeof aa);
</code></pre><p>浏览器会弹出窗口显示 undefined。对于没有声明的变量, 只能执行一种操作，即使用 typeof 操作符检验它的类型.。它的类型和声明了但没有进行初始化的变量的类型一样, 都是 undefined.</p><h2 id="二-null和undefined："><a href="#二-null和undefined：" class="headerlink" title="二. null和undefined："></a>二. null和undefined：</h2><pre><code>alert(undefined == null); // 返回 true
</code></pre><p>对于undefined 和null 的相等性测试，返回 true,如上图。这是因为，undefined是由null派生而来的。但是，这两者差别很大，之所以要设置两个值，让我们从历史原因说起吧<br>1）历史原因：<br>1995年js诞生时，最初像Java一样，只设置了null作为表示”无”的值。根据C语言的传统，null被设计成可以自动转为0。但是，JavaScript的设计者Brendan Eich，觉得这样做还不够，有两个原因。首先，null像在Java里一样，被当成一个对象。但是，JavaScript的数据类型分成原始类型（primitive）和合成类型（complex）两大类，Brendan Eich觉得表示”无”的值最好不是对象；其次，JavaScript的最初版本没有包括错误处理机制，发生数据类型不匹配时，往往是自动转换类型或者默默地失败。Brendan Eich觉得，如果null自动转为0，很不容易发现错误。<br>因此，Brendan Eich又额外设计了一个undefined。</p><p>2）最初设计：<br>JavaScript的最初版本是这样区分的：null是一个表示”无”的对象，转为数值时为0；undefined是一个表示”无”的原始值，转为数值时为NaN。</p><pre><code>Number(undefined)
// NaN
5 + undefined
// NaN
</code></pre><p>3）目前的用法：<br>但是，上面这样的区分，在实践中很快就被证明不可行。实践中有很多需要注意的地方。</p><p><strong>①null</strong></p><p>null是基本数据类型之一，值仅有一个，即为null。表示”空对象”(因此类型检测返回对象)，即如果有对象，就会是一个具体的对象，如果没对象，就是null。典型用法是：<br>（1） 作为函数的参数，表示该函数的参数不是对象。<br>（2） 作为对象原型链的终点。</p><pre><code>Object.getPrototypeOf(Object.prototype) // null

typeof null     // object
</code></pre><p>如果定义的变量准备在将来用来保存对象，那么最好将该变量初始化为null而不是其他值。这样做不仅可以体现null作为空对象指针的惯例，而且也有助于进一步区分null和undefined。<br>只要直接检查null值就可以知道相应的变量是否已经保存了一个对象的引用，如下面的例子：</p><pre><code>if(abc != null){
//对abc执行某些操作
}
</code></pre><p><strong>②undefined</strong></p><p>undefined是基本数据类型之一，值仅有一个，即为undefined。表示”缺少值”(因此类型检测返回undefined)，即此处应该有一个值，但是还没有定义。典型用法是：<br>（1）变量被声明了，但没有赋值时，就等于undefined。<br>（2) 调用函数时，应该提供的参数没有提供，该参数等于undefined。<br>（3）对象没有赋值的属性，该属性的值为undefined。<br>（4）函数没有返回值时，默认返回undefined。</p><pre><code>var i;
i // undefined
function f(x){console.log(x)}f() // undefined
var o = new Object();
o.p // undefined
var x = f();
var exp = undefined;
8x // undefined
</code></pre><p><strong>③如何检测某个变量是undefined：</strong></p><p>错误的用法：<br><code>if(abc==undefined)</code> // 正如上面所说，js规定用<code>==</code> 判断时，null和undefined是等同的</p><p>正确的用法：</p><pre><code>if (typeof(abc) `==` &quot;undefined&quot;)   
</code></pre><p>或者最简单的办法：</p><pre><code>if(abc===undefined)
</code></pre><p>注意！！！ type的用法有运算符形式和函数形式，即if (typeof(abc) <code>==</code> “undefined”) 和 if (typeof abc <code>==</code> “undefined”) 效果是一样的。另外，由于typeof会返回诸如”number”的字符串形式的结果，因此==的右操作数应注意加双引号表示字符串。</p><p><strong>④如何检测某个变量是null：</strong></p><p>错误的用法：</p><p>1、<code>if(abc == null)</code><br>// 解释同上。不过：要判断abc是 null 或者 undefined 时可使用本法。<br>2、<code>if ( !abc)</code><br>// 这个的原理是：abc为假值，则 ! abc为真值，条件成立。然而，假值也可能是undefined，0 或 false。不过：要判断 abc是null、undefined、0 或者false 时可使用本法。</p><p>3、<code>if(typeof abc == &quot;null&quot;)</code><br>// 为了向下兼容，abc 为 null 时，typeof null 总返回 object，所以不能这样判断。</p><p>4、 <code>if ( isNull (abc) )</code><br>// VBScript 中有 IsNull 这个函数，但 JavaScript 中没有。</p><p>=============================================================================</p><p>正确的方法：<br>1、 <code>if (! abc &amp;&amp; typeof abc != &quot;undefined&quot; &amp;&amp; abc != 0)</code></p><p>// 这个的原理是：如果！abc 成立，则 abc 为假值，则 abc 要么是undefined，0，false或者null 。typeof abc!= “undefined” 排除了 undefined；exp != 0 排除了0 和 false （0= =false，0= =0）。所以，abc一定是剩下的null。</p><p>2、最简单的方法：</p><pre><code> if (abc=== null)
</code></pre><p>尽管如此，我们在 DOM 应用中，一般只需要用 (! abc) 来判断就可以了，因为 DOM 应用中，可能返回 null，可能返回 undefined，如果具体判断 null 还是 undefined 会使程序过于复杂。</p><h2 id="三-测试对象是否存在："><a href="#三-测试对象是否存在：" class="headerlink" title="三. 测试对象是否存在："></a>三. 测试对象是否存在：</h2><p>在 JavaScript 中, null 用于对象, undefined 用于变量，属性和方法。<br>对象只有被定义才有可能为 null，否则为 undefined。因此，如果我们想测试对象是否存在，必须先检测对象是否已定义。<br>因此，这是错误的：<br>if (abc !== null &amp;&amp; typeof abc !== “undefined”)<br>这是正确的：</p><pre><code>if (typeof  abc !== &quot;undefined&quot; &amp;&amp; abc!== null)
</code></pre></div></article><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-undefined在变量声明中的体现："><span class="toc-text">一. undefined在变量声明中的体现：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-null和undefined："><span class="toc-text">二. null和undefined：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三-测试对象是否存在："><span class="toc-text">三. 测试对象是否存在：</span></a></li></ol><script src="/js/toc.js"></script><div id="vcomments"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2019 Chor's Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue/tree/master/PureBlue">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c5ffe9669609061"></script><script src="/js/jquery.toTop.js"></script><script src="/js/tagscloud.js"></script><script src="/js/navbar.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/tororo.model.json"},display:{position:"left",width:150,height:300,vOffset:-120,hOffset:-5},mobile:{show:!1},react:{opacityDefault:1e3,opacityOnHover:1e3},log:!1})</script></body></html><!-- rebuild by neat -->