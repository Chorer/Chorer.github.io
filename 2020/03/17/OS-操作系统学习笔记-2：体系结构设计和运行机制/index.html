<!-- build time:Tue Mar 17 2020 10:03:01 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Focus on FE learning</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third party/pace-theme-flash.css"><link rel="icon" href="/images/kour.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script><script src="/js/prism-line-numbers.min.js"></script><link rel="stylesheet" href="/css/prism-xonokai.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head><body><header class="header"><div class="header_top"><span class="theme"><a href="/">Chor's blog</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">首页</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">分类</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">归档</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">标签</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">关于</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a href="https://github.com/Chorer/hexo-theme-PureBlue" class="logo">Focus on FE learning</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div><div class="blog-down"><a href="javascript:void(0);"><i class="fa fa-angle-double-down fa-2x"></i></a></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">操作系统学习笔记-2：体系结构和运行机制</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2020-03-17&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp1k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp3 mins&nbsp&nbsp&nbsp</span><div class="post-tags"></div></div><div class="post-content"><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E7%A1%AC%E4%BB%B6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E7%A1%AC%E4%BB%B6-0.png" alt=""></p><a id="more"></a><h2 id="一-操作系统的体系结构"><a href="#一-操作系统的体系结构" class="headerlink" title="一. 操作系统的体系结构"></a>一. 操作系统的体系结构</h2><h3 id="1-传统的操作系统结构"><a href="#1-传统的操作系统结构" class="headerlink" title="1. 传统的操作系统结构"></a>1. 传统的操作系统结构</h3><p><strong>（1）无结构操作系统：</strong></p><p>早期的操作系统没有真正意义上的“结构”可言，只是大量的过程的集合，过程之间可以互相调用，导致操作系统内部复杂而混乱。</p><p><strong>（2）模块化结构操作系统：</strong></p><p>模块化结构的 OS 基于程序模块化开发的思想，按照功能划分了多个具有一定独立性和大小的模块，每个模块有自己的功能，同时互相之间能够通过接口实现交互。模块之下又有子模块，以此类推。</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E7%A1%AC%E4%BB%B6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E7%A1%AC%E4%BB%B6-1.png" alt=""></p><ul><li>模块的大小：划分过小，就会引起模块之间联系过多；划分过大，就会引起内部联系增加，复杂度提高</li><li>模块的独立性：两个衡量标准，即低耦合、高内聚。耦合度指的是模块之间的互相联系和影响，内聚性指的是模块内部各部分之间的紧密程度</li></ul><blockquote><p>模块化开发的 OS 虽然提高了 OS 设计的正确性、可理解性、可维护性，加速了开发过程，但是也存在着一定的问题：接口难以满足实际需求；多个决定齐头并进，呈现出“无序性”。</p></blockquote><p><strong>（3）分层式结构操作系统</strong></p><p>为了将“无序性”转化成“有序性”，采用了<strong>自底向上</strong>方法，在目标系统和裸机（宿主）系统之间铺设多个中间层，使得目标系统最终得以在裸机系统上运行。</p><p>从层次来看，为了使<strong>每一步设计都建立在可靠的基础上</strong>（这正是模块化结构 OS 缺失的），规定每一层仅能使用其底层提供的功能和服务 —— 这就使得调试变得非常容易，比如调试 A2 层的时候，可以只考虑 A1 层，因为 A2 层依赖 A1 层的服务和功能。一层一层自底向上增添，每一层实现一些功能，最后构成一个完整的 OS。</p><p>聚焦于单个层次，每个层次都由若干个模块构成。</p><blockquote><p>分层式结构的 OS 虽然保证了系统的正确性、可扩充性和易维护性，但是由于是分层单向依赖，使得层次和层次之间的<strong>通信</strong>成为了一个问题。执行一个简单的功能，可能需要穿越多个层次完成通信。</p></blockquote><h3 id="2-微内核操作系统结构"><a href="#2-微内核操作系统结构" class="headerlink" title="2. 微内核操作系统结构"></a>2. 微内核操作系统结构</h3><h4 id="2-1-特点"><a href="#2-1-特点" class="headerlink" title="2.1 特点"></a>2.1 特点</h4><p><strong>（1）足够小的内核：</strong></p><p>包含 —— 与硬件处理紧密相关的部分；基本的功能；客户与服务器之间的通信</p><p><strong>（2）基于客户/服务器模式 ：</strong></p><p>OS 最基本的部分放在内核中，其它绝大部分功能则在微内核外面的一组服务器（进程）中实现，比如 IO 设备管理服务器、进程服务器等。客户与服务器之间通过消息传递机制实现信息交互，如下图：</p><p><img src="https://myblog-1258623898.cos.ap-chengdu.myqcloud.com/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E7%A1%AC%E4%BB%B6/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6-2.webp" alt=""></p><p><strong>（3）应用“机制与策略分离”原理</strong>：</p><ul><li>机制：实现某个功能的具体执行机构</li><li>策略：在机制基础上借助某些算法实现功能</li></ul><p>在微内核 OS 中，通常将机制放在 OS 的微内核中。</p><p><strong>（4）采用面向对象技术：</strong></p><p>基于“抽象”“隐蔽”原则控制系统的复杂性，基于“对象”“封装”“继承”确保系统的正确性、可靠性、易修改性、易扩展性。</p><h4 id="2-2-功能"><a href="#2-2-功能" class="headerlink" title="2.2 功能"></a>2.2 功能</h4><ul><li>进程（线程）管理：进程通信、切换、调度等</li><li>低级存储器管理</li><li>中断和陷入管理</li></ul><h4 id="2-2-优缺点"><a href="#2-2-优缺点" class="headerlink" title="2.2 优缺点"></a>2.2 优缺点</h4><table><thead><tr><th style="text-align:center">优点</th><th style="text-align:center">缺点</th></tr></thead><tbody><tr><td style="text-align:center">提高了系统可扩展性</td><td style="text-align:center">采用了小的内核</td></tr><tr><td style="text-align:center">增强了系统的可靠性</td><td style="text-align:center">C/S模式和消息传递机制</td></tr><tr><td style="text-align:center">较好的可移植性</td><td style="text-align:center">运行效率有所降低</td></tr><tr><td style="text-align:center">提供了对分布式系统的支持</td><td style="text-align:center">传统 OS 只需进行两次变态，而微内核 OS 需进行多次变态（具体下文会提及）</td></tr><tr><td style="text-align:center">融入了面向对象技术</td></tr></tbody></table></div><div class="post-nav"><div class="post-nav-prev"></div><div class="post-nav-next"><a href="/2020/03/14/CP-编译原理学习笔记-1/" rel="next" title="编译原理学习笔记-1">编译原理学习笔记-1&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-操作系统的体系结构"><span class="toc-text">一. 操作系统的体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-传统的操作系统结构"><span class="toc-text">1. 传统的操作系统结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-微内核操作系统结构"><span class="toc-text">2. 微内核操作系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-特点"><span class="toc-text">2.1 特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-功能"><span class="toc-text">2.2 功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-优缺点"><span class="toc-text">2.2 优缺点</span></a></li></ol></li></ol></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2019 My Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/search.js"></script><script src="/js/post-except.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script></body></html><!-- rebuild by neat -->