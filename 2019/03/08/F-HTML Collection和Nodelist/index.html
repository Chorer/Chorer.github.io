<!-- build time:Sun Apr 14 2019 16:49:46 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Chor&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third party/jquery.fancybox.css"><link rel="icon" href="/images/TX.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/prism-coy.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><link rel="stylesheet" href="/css/prism-coy.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><header class="header"><span><i class="fa fa-bars"></i> <a href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></span><div class="blog-title"><a href="/" class="logo">Chor&#39;s Blog</a></div><nav class="navbar"><ul class="menu"><li class="menu-item"><a href="/" class="menu-item-link">Home</a></li><li class="menu-item"><a href="/categories" class="menu-item-link">Categories</a></li><li class="menu-item"><a href="/archives" class="menu-item-link">Archives</a></li><li class="menu-item"><a href="/tags" class="menu-item-link">Tags</a></li><li class="menu-item"><a href="/about" class="menu-item-link">About</a></li></ul></nav><i id="homelink" data-link="https://chorer.github.io/"></i></header><main class="main"><section class="posts"><article class="post"><div class="post-title"><a class="post-title-link" href="/2019/03/08/F-HTML Collection和Nodelist/">原生JavaScript获取DOM节点的方法汇总</a></div><div class="post-date"><span class="date-text"><i class="fa fa-calendar"></i>Date:&nbsp&nbsp2019-03-08</span></div><div class="post-tags"></div><div class="post-statistic"><span class="post-words"><i class="fa fa-pencil-square-o"></i> <span class="text_words">Count: </span><span>807 words</span> </span>&nbsp| &nbsp<span class="post-time"> <i class="fa fa-clock-o"></i> <span class="text_time">Time: </span><span>3 mins</span></span></div><div class="post-content"><p>感觉有时候还是会忘记，而且都是原生操作DOM的时候常用的东西，老是查阅文档不太方便，因此在这里做个记录。</p><h3 id="1-获取DOM节点的方法"><a href="#1-获取DOM节点的方法" class="headerlink" title="1.获取DOM节点的方法"></a>1.获取DOM节点的方法</h3><h4 id="1-1-通过顶层document节点获取："><a href="#1-1-通过顶层document节点获取：" class="headerlink" title="1.1 通过顶层document节点获取："></a>1.1 通过顶层document节点获取：</h4><ul><li><code>document.getElementById(&quot;ID&quot;)</code></li><li><code>document.getElementsByName(&quot;Name&quot;)</code></li><li><code>document.getElementsByClassName(&quot;className&quot;)</code></li><li><code>document.getElementsByTagName(&quot;tagName&quot;)</code><a id="more"></a> 注意，前两个都是document节点的专有方法，其他节点不能使用，尤其不能在ID下获取ID，这是非常愚蠢的做法。</li></ul><h4 id="1-2-通过父节点获取："><a href="#1-2-通过父节点获取：" class="headerlink" title="1.2 通过父节点获取："></a>1.2 通过父节点获取：</h4><ul><li><p><code>parentObj.firstChild</code>：获取父节点下的第一个子节点（会将空格和换行计入），这个属性是可以递归使用的，即支持<code>parentObj.firstChild.firstChild...</code>的形式，如此就可以获得更深层次的节点。</p></li><li><p><code>parentObj.firstElementChild</code>：获取父节点下的第一个子元素节点</p></li><li><p><code>parentObj.lastChild</code>：获取父节点下的最后一个子节点（会将空格和换行计入）。与<code>firstChild</code>一样，它也可以递归使用。</p></li><li><p><code>parentObj.lastElementChild</code>：获取父节点下的最后一个子元素节点</p></li><li><p><code>parentObj.childNodes</code>：获取父节点下的所有直接子节点（会将空格和换行计入）</p></li><li><p><code>parentObj.children</code>：获取父节点下的直接子元素节点。</p></li><li><p><code>parentObj.getElementsByTagName(&quot;tagName&quot;)</code></p></li><li><p><code>parentObj.getElementsByClassName(&quot;className&quot;)</code></p></li></ul><h4 id="1-3-通过子节点获取："><a href="#1-3-通过子节点获取：" class="headerlink" title="1.3 通过子节点获取："></a>1.3 通过子节点获取：</h4><ul><li><p><code>childObj.parentNode</code> : 获取子节点的直接父节点。w3c标准</p></li><li><p><code>childObj.parentElement</code> : 获取子节点的直接父节点。IE标准</p></li></ul><h4 id="1-4-通过兄弟节点获取："><a href="#1-4-通过兄弟节点获取：" class="headerlink" title="1.4 通过兄弟节点获取："></a>1.4 通过兄弟节点获取：</h4><ul><li><p><code>neighbourObj.parentNode.children[..]</code> :通过父节点间接获取已知节点的兄弟节点</p></li><li><p><code>neighbourObj.previousSibling</code>：获取已知节点的上一个兄弟节点（会将空格和换行计入）</p></li><li><p><code>neighbourObj.previousElementSibling</code>: 获取已知节点的上一个兄弟元素节点</p></li><li><p><code>neighbourObj.nextSibling</code>：获取已知节点的下一个兄弟节点（会将空格和换行计入）</p></li><li><p><code>neighbourObj.nextElementSibling</code>: 获取已知节点的下一个兄弟元素节点</p></li></ul><h4 id="1-5-通过CSS选择器获取："><a href="#1-5-通过CSS选择器获取：" class="headerlink" title="1.5 通过CSS选择器获取："></a>1.5 通过CSS选择器获取：</h4><p>采用CSS选择器的语法，即<code>#abc</code>，<code>div.abc</code>,<code>#abc .abc</code>等。</p><ul><li><p><code>document.querySelector(&quot;...&quot;)</code>: 返回匹配的第一个节点</p></li><li><p><code>document.querySelectorAll(&quot;...&quot;)</code>: 返回匹配的所有节点</p></li></ul><h3 id="2-HTMLCollection-和-NodeList"><a href="#2-HTMLCollection-和-NodeList" class="headerlink" title="2.HTMLCollection 和 NodeList"></a>2.HTMLCollection 和 NodeList</h3><p>我们都知道，当获得所有节点（如：<code>getElementsByTagName</code>）或者获得所有子元素（如：<code>element.childNodes</code>）时，实际上返回的是包含一些DOM节点的集合，这个集合要么是 <code>HTMLCollection</code>，要么是 <code>NodeList</code>，两者其实都是类数组的对象。</p><h4 id="2-1-HTMLCollection和NodeList的共同点："><a href="#2-1-HTMLCollection和NodeList的共同点：" class="headerlink" title="2.1 HTMLCollection和NodeList的共同点："></a>2.1 <code>HTMLCollection</code>和<code>NodeList</code>的共同点：</h4><ul><li>都是类数组对象，都有length属性;</li><li>都有共同的方法：<code>item</code>，可以通过<code>item(index)</code>或者<code>item(id)</code>来访问返回结果中的元素;</li><li>一般都是实时变动的（live），document上的更改会反映到相关对象上（！！注意：<code>document.querySelectorAll</code>返回的<code>NodeList</code>不是实时的）;</li></ul><h4 id="2-2-HTMLCollection和NodeList的不同点："><a href="#2-2-HTMLCollection和NodeList的不同点：" class="headerlink" title="2.2 HTMLCollection和NodeList的不同点："></a>2.2 <code>HTMLCollection</code>和<code>NodeList</code>的不同点：</h4><ul><li><code>NodeList</code>可以包含任何节点类型，<code>HTMLCollection</code>只包含元素节点（elementNode）。</li><li><code>HTMLCollection</code>比<code>NodeList</code>多一项方法：<code>NamedItem</code>，可以通过传递id或name属性来获取节点信息</li></ul><h4 id="2-3-规定返回结果："><a href="#2-3-规定返回结果：" class="headerlink" title="2.3 规定返回结果："></a>2.3 规定返回结果：</h4><ol><li><code>node.childNodes</code> 结果返回类型是 <code>NodeList</code>，即所有子节点；</li><li><code>node.children</code> 结果返回类型是 <code>HTMLCollection</code> ，即所有子元素节点；</li><li><code>getElementsByXXX</code> 结果返回类型是<code>HTMLCollection</code></li><li>旧版本浏览器(尤其是IE)中，<code>node.children</code> 结果返回类型是 <code>NodeList</code></li></ol></div></article><div class="post-toc"><div id="post-catalog-text" data-catalog="Article Catalog"></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-获取DOM节点的方法"><span class="toc-text">1.获取DOM节点的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-通过顶层document节点获取："><span class="toc-text">1.1 通过顶层document节点获取：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-通过父节点获取："><span class="toc-text">1.2 通过父节点获取：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-通过子节点获取："><span class="toc-text">1.3 通过子节点获取：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-通过兄弟节点获取："><span class="toc-text">1.4 通过兄弟节点获取：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-通过CSS选择器获取："><span class="toc-text">1.5 通过CSS选择器获取：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-HTMLCollection-和-NodeList"><span class="toc-text">2.HTMLCollection 和 NodeList</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-HTMLCollection和NodeList的共同点："><span class="toc-text">2.1 HTMLCollection和NodeList的共同点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-HTMLCollection和NodeList的不同点："><span class="toc-text">2.2 HTMLCollection和NodeList的不同点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-规定返回结果："><span class="toc-text">2.3 规定返回结果：</span></a></li></ol></li></ol><div id="post-toTop-text" data-totop="To the Top"></div></div><div id="vcomments"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2019 My Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue/tree/master/PureBlue">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/code.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c5ffe9669609061"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/tororo.model.json"},display:{position:"left",width:150,height:300,vOffset:-120,hOffset:-5},mobile:{show:!1},react:{opacityDefault:1e3,opacityOnHover:1e3},log:!1})</script></body></html><!-- rebuild by neat -->