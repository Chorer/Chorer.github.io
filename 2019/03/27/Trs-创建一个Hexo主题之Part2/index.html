<!-- build time:Tue Oct 22 2019 13:45:56 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scaleable=0" name="viewport"><title>Chor&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/third party/jquery.fancybox.css"><link rel="stylesheet" href="/css/third party/pace-theme-flash.css"><link rel="icon" href="/images/me.gif"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body><header class="header"><div class="header_top"><span class="theme"><i class="fa fa-bars"></i> <a href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></span><nav class="navbar"><ul class="menu"><li class="menu-item"><i class="fa fa-home"></i> <a href="/" class="menu-item-link">HOME</a></li><li class="menu-item"><i class="fa fa-folder-open"></i> <a href="/categories" class="menu-item-link">CATEGORIES</a></li><li class="menu-item"><i class="fa fa-archive"></i> <a href="/archives" class="menu-item-link">ARCHIVES</a></li><li class="menu-item"><i class="fa fa-tags"></i> <a href="/tags" class="menu-item-link">TAGS</a></li><li class="menu-item"><i class="fa fa-user"></i> <a href="/about" class="menu-item-link">ABOUT</a></li></ul></nav></div><i id="homelink" data-link="https://chorer.github.io/"></i><div class="header_bottom"><div class="blog-title"><a href="/" class="logo">Chor&#39;s Blog</a><div class="descrs"><div class="descr">个人博客</div><div class="descr">" Do what you love,Love what you do "</div></div></div></div></header><main class="main"><section class="posts"><article class="post_full"><h1 class="post-title"><div class="post-title-link">「译」创建一个Hexo主题-Part2:其他页面</div></h1><div class="post-info"><div class="post-date"><i class="fa fa-calendar"></i>&nbsp2019-03-27&nbsp&nbsp&nbsp</div><span class="post-words"><i class="fa fa-pencil-square-o"></i>&nbsp1.7k&nbspwords&nbsp&nbsp </span><span class="post-time"><i class="fa fa-clock-o"></i>&nbsp7 mins&nbsp&nbsp&nbsp</span><div class="post-tags"><i class="fa fa-tags"></i> <a href="/tags/hexo-theme/">hexo theme</a></div></div><div class="post-content"><blockquote><ul><li>原文地址：<a href="http://www.codeblocq.com/2016/03/Create-an-Hexo-Theme-Part-2-Other-Pages/" target="_blank" rel="noopener">Create an Hexo Theme-Part2: Other Pages</a></li><li>原文作者：Jonathan Klughertz</li><li>译者：Chor<a id="more"></a></li></ul></blockquote><p>在这个系列教程中，你将学习怎么从零开始制作一个 Hexo 主题。<br>在 <a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart1%2F">part1</a> 中，我们已经着手动工并创建了首页。在这篇文章中，我们将运用所学完成剩余的页面。</p><h2 id="其它文章的链接："><a href="#其它文章的链接：" class="headerlink" title="其它文章的链接："></a>其它文章的链接：</h2><ul><li><a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart1%2F">创建一个Hexo主题-Part1:首页</a></li><li><a href="https://chorer.github.io/%2F2019%2F03%2F27%2FTrs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart2%2F">创建一个Hexo主题-Part2:其他页面</a></li><li><a href="https://chorer.github.io/2019/06/05/Trs-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAHexo%E4%B8%BB%E9%A2%98%E4%B9%8BPart3/">创建一个Hexo主题-Part3:评论、分析和小部件</a></li></ul><h2 id="文章详情页"><a href="#文章详情页" class="headerlink" title="文章详情页"></a>文章详情页</h2><p>让我们继续完成 part1 中的剩余工作并创建文章详情页。<br>正如我们看到的，为了生成详情页，Hexo将会在<code>/layout/</code>文件夹中寻找一个<code>post.ejs</code>文件。<br>这是我的post.ejs文件：</p><pre><code class="js">// layout/post.ejs
&lt;%- partial(&#39;_partial/article-full&#39;, {item: page}) %&gt;
</code></pre><p>为了让代码更加有序，我们会将实际代码放在<code>_partial/article-full.ejs</code>中。现在先来创建这个文件：</p><pre><code class="js">// layout/_partial/article-full.ejs

&lt;div class=&quot;blog-post&quot;&gt;
    &lt;!-- Title --&gt;
    &lt;h2 class=&quot;blog-post-title&quot;&gt;
        &lt;a href=&quot;&lt;%- config.root %&gt;&lt;%- item.path %&gt;&quot;&gt;
            &lt;%- item.title || item.link%&gt;
        &lt;/a&gt;
    &lt;/h2&gt;
    &lt;!-- Date and Author --&gt;
    &lt;p class=&quot;blog-post-meta&quot;&gt;
        &lt;%= item.date.format(config.date_format) %&gt;
        &lt;% if(item.author) { %&gt;
            by &lt;%- item.author %&gt;
        &lt;% } %&gt;
    &lt;/p&gt;
    &lt;!-- Content --&gt;
    &lt;%- item.content %&gt;
    &lt;hr /&gt;
    &lt;!-- Tags and Categories links --&gt;
    &lt;%- partial(&#39;article-tags&#39;, {item: item}) %&gt;
    &lt;%- partial(&#39;article-categories&#39;, {item: item}) %&gt;
&lt;/div&gt;
</code></pre><p>这个模板几乎和<code></code>_partial/article-excerpt.ejs`一样，除了：</p><ul><li>我们使用<code>&lt;%- item.content %&gt;</code>展示全文内容而不是摘要</li><li>在底部新增两个部分，分别是标签部分和分类部分。接下来分别创建它们。</li></ul><h3 id="文章标签"><a href="#文章标签" class="headerlink" title="文章标签"></a>文章标签</h3><p>文章标签部分将生成一篇文章对应的所有标签：<code>layout/_partial/article-tags.ejs</code><br>我们想要创建的是一系列的标签和链接，每个链接都将导向对应的标签页面，而标签页面会显示该标签的所有文章。</p><pre><code class="js">// layout/_partial/article-tags.ejs

&lt;% if (item.tags &amp;&amp; item.tags.length){ %&gt;
&lt;%
    var tags = [];
    item.tags.forEach(function(tag){
        tags.push(&#39;&lt;a href=&quot;&#39; + config.root + tag.path + &#39;&quot;&gt;#&#39; + tag.name + &#39;&lt;/a&gt;&#39;);
    });
%&gt;
&lt;div class=&quot;blog-tags-container&quot;&gt;
    &lt;span class=&quot;glyphicon glyphicon-tags&quot;&gt;&lt;/span&gt;
    &lt;%- tags.join(&#39; &#39;) %&gt;
&lt;/div&gt;
&lt;% } %&gt;
</code></pre><p>很简单，我们通过<code>post.tags</code>遍历文章的所有标签并让这些标签一个接一个地显示。我在每个标签前面加了一个#号，并且在列表前面额外加了一个图标。</p><h3 id="文章分类"><a href="#文章分类" class="headerlink" title="文章分类"></a>文章分类</h3><p><code>layout/_partial/article-categories.ejs</code>的内容和上面很相似</p><pre><code class="js">// layout/_partial/article-categories.ejs

&lt;% if (item.categories &amp;&amp; item.categories.length){ %&gt;
&lt;%
    var categories = [];
    item.categories.forEach(function(category){
        categories.push(&#39;&lt;a href=&quot;&#39; + config.root + category.path + &#39;&quot;&gt;&#39; + category.name + &#39;&lt;/a&gt;&#39;);
    });
%&gt;
&lt;div class=&quot;blog-categories-container&quot;&gt;
    &lt;span class=&quot;glyphicon glyphicon-folder-open&quot;&gt;&lt;/span&gt;
    &lt;%- categories.join(&#39; / &#39;) %&gt;
&lt;/div&gt;
&lt;% } %&gt;
</code></pre><p>这里不再赘述。</p><h3 id="文章样式"><a href="#文章样式" class="headerlink" title="文章样式"></a>文章样式</h3><p>可能有人注意到了，我们分别给了标签部分和分类部分一个类名，这是为了方便给它们设置样式。这是相关代码，将它们添加进<code>blog.css</code>中：</p><pre><code class="js">// source/css/blog.css

.blog-tags-container, .blog-categories-container {
    margin-top: 30px;
    font-size: 20px;
}
.blog-tags-container span.glyphicon, .blog-categories-container span.glyphicon {
    margin-right: 20px;
}
</code></pre><h2 id="页面类型模板的详情页"><a href="#页面类型模板的详情页" class="headerlink" title="页面类型模板的详情页"></a>页面类型模板的详情页</h2><p>这个很简单。“页面类型模板”和“文章类型模板”相差无几。就当做练习自定义一下就好，这是我的设置：</p><pre><code class="js">// layout/page.ejs
&lt;%- partial(&#39;_partial/article-full&#39;, {item: page}) %&gt;
</code></pre><h2 id="归档页"><a href="#归档页" class="headerlink" title="归档页"></a>归档页</h2><p>归档页和首页一样会显示文章列表，只是它要更加简略—尽管基础结构和首页是差不多的：</p><pre><code class="js">// layout/archive.ejs

&lt;% page.posts.each(function(item){ %&gt;
&lt;%- partial(&#39;_partial/article-archive&#39;, {item: item}) %&gt;
&lt;% }); %&gt;
&lt;%- partial(&#39;_partial/pagination&#39;) %&gt;
</code></pre><h3 id="文章归档页部分"><a href="#文章归档页部分" class="headerlink" title="文章归档页部分"></a>文章归档页部分</h3><p>和前面一样，实际的工作是由<code>article-archive.ejs</code>完成的。我使用<code>article-excerpt</code>作为基础结构，做了适当删减，只保留标题、日期和作者。</p><pre><code class="js">// layout/_partial/article-archive.ejs

&lt;div class=&quot;blog-post&quot;&gt;
    &lt;!-- Title --&gt;
    &lt;h2 class=&quot;blog-post-title-archive&quot;&gt;
        &lt;a href=&quot;&lt;%- config.root %&gt;&lt;%- item.path %&gt;&quot;&gt;
            &lt;%- item.title || item.link%&gt;
        &lt;/a&gt;
    &lt;/h2&gt;
    &lt;!-- Date and Author --&gt;
    &lt;p class=&quot;blog-post-meta&quot;&gt;
        &lt;%= item.date.format(config.date_format) %&gt;
        &lt;% if(item.author) { %&gt;
            by &lt;%- item.author %&gt;
        &lt;% } %&gt;
    &lt;/p&gt;
&lt;/div&gt;
</code></pre><p>细心的人可能注意到，我为标题创建了一个新的类名（它们太大了，我不喜欢）：</p><pre><code class="js">// source/css/blog.css
.blog-post-title-archive {
    margin-bottom: 5px;
    font-size: 25px;
}
</code></pre><h2 id="标签页和分类页"><a href="#标签页和分类页" class="headerlink" title="标签页和分类页"></a>标签页和分类页</h2><p>最后我们还需要创建两个页面。标签页将包括某个标签对应的全部文章，分类页同理。如果你还记得的话：<br>| 模板 | 备用模板 | 页面描述 |<br>|—–|—–|—-|<br>| archive | index | 这是归档页。它将显示我们博客中所有文章的标题和详情页链接|<br>| category | archive | 这是分类页。与归档页类似，但是会根据类别进行筛选|<br>| tag | archive | 这是标签页。与分类页类似，但是会根据标签进行筛选|</p><p><code>tag.ejs</code>和’category.ejs’的回退页是<code>archive.ejs</code>。我认为这三个页面并无太大区别，我们仅仅是在使用<code>archive.ejs</code>的回退页而已。好处就是代码量减少、提高代码可复用性和可维护性。</p><p>不过为了区分这三个页面，我们还是给归档页加上标题吧：</p><pre><code class="js">// layout/archive.ejs

&lt;%
    var title = &#39;&#39;;
    if (page.category) title = page.category;
    if (page.tag) title = page.tag;
    if (page.archive){
        if (page.year) title = page.year + (page.month ? &#39;/&#39; + page.month : &#39;&#39;);
        else title = &quot;Archives&quot;;
    }
%&gt;
&lt;% if(title) { %&gt;
   &lt;h2 class=&quot;blog-archive-title&quot;&gt;&lt;%- title %&gt;&lt;/h2&gt;
&lt;% } %&gt;
&lt;% page.posts.each(function(item){ %&gt;
&lt;%- partial(&#39;_partial/article-archive&#39;, {item: item}) %&gt;
&lt;% }); %&gt;
&lt;%- partial(&#39;_partial/pagination&#39;) %&gt;
</code></pre><p>现在我们有了一个漂亮的标题用以描述了归档页的类型。<br>这是对应的CSS样式：</p><pre><code class="js">// source/css/blog.css
.blog-archive-title {
    margin-bottom: 50px;
}
</code></pre><p>本教程的第二篇文章非常简单，你只需要清楚<a href="https://segmentfault.com/a/1190000018575126" target="_blank" rel="noopener">第一篇文章</a>中提及的概念即可。我强烈推荐你根据自己的口味尝试修改主题。</p><p>在第三篇文章中，我们将添加评论部分、统计部分、装饰部件并做一些改进。期待与你再次相见！</p><blockquote><p>目前可以找到的比较完备的 Hexo 主题制作教程，我自己从中受益良多。有打算自己撸一个主题的都可以参考下，真的写得很不错。如果发现译文存在错误或其他需要改进的地方，欢迎在下面评论指出。</p></blockquote></div><div class="post-nav"><div class="post-nav-prev"><a href="/2019/03/27/F-CSS 基础系列：inline-block和float/" rel="prev" title="CSS 基础系列：inline-blcok和float"><i class="fa fa-angle-double-left"></i>&nbspCSS 基础系列：inline-blcok和float</a></div><div class="post-nav-next"><a href="/2019/03/26/To-Sublime Text3简易使用教程/" rel="next" title="Sublime Text3插件简易使用教程">Sublime Text3插件简易使用教程&nbsp<i class="fa fa-angle-double-right"></i></a></div><div class="clear"></div></div></article><div class="post-toc"><div class="toc-top"><i class="fa fa-th-large"></i>Catalog</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#其它文章的链接："><span class="toc-text">其它文章的链接：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文章详情页"><span class="toc-text">文章详情页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文章标签"><span class="toc-text">文章标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章分类"><span class="toc-text">文章分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章样式"><span class="toc-text">文章样式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#页面类型模板的详情页"><span class="toc-text">页面类型模板的详情页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#归档页"><span class="toc-text">归档页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文章归档页部分"><span class="toc-text">文章归档页部分</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#标签页和分类页"><span class="toc-text">标签页和分类页</span></a></li></ol></div><div id="vcomments"></div><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"c9Ume1Givsusy6VyqV87iT2z-gzGzoHsz",appKey:"5F7jhJfENet59xDteaKqobSK",notify:!1,verify:!1,placeholder:"Just talk here......",avatar:"mm",pageSize:10,visitor:!0})</script></section></main><footer class="footer"><div class="footer-info"><p>Copyright © 2018 - 2019 My Blog</p><p class="a">Powered by <a href="https://hexo.io/zh-cn/">Hexo</a> | Theme - <a href="https://github.com/Chorer/hexo-theme-PureBlue">PureBlue</a></p></div></footer><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="/js/navbar.js"></script><script src="/js/pace.min.js"></script><script src="/js/code.js"></script><script src="/js/load.js"></script><script src="/js/jquery.fancybox.js"></script><script src="/js/jquery.fancyboxStart.js"></script><script src="/js/search.js"></script><script src="/js/toc.js"></script><script src="/js/jquery.toTop.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.2.0/dist/vanilla-back-to-top.min.js"></script><script src="/js/IndexToTop.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cd8f8959eacf92e"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":150,"height":300,"vOffset":-120,"hOffset":-5},"mobile":{"show":false},"react":{"opacityDefault":1000,"opacityOnHover":1000},"log":false});</script></body></html><!-- rebuild by neat -->